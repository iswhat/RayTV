import { Column, Row, Text, Image, Button, Switch, List, ListItem, Scroller, ScrollView, Blank, Flex, FlexDirection, FlexAlign, ItemAlign, TextAlign, ImageFit, Divider, Toggle, FontWeight, Dialog, DialogAlignment, ButtonType, ScrollBarState } from '@ohos.arkui';
import Router from '@ohos.router';
import Logger from '../common/util/Logger';
import { configService } from '../service/config/ConfigService';
import { mediaService } from '../service/media/MediaService';

/**
 * ËÆæÁΩÆÈ°µÈù¢ÁªÑ‰ª∂
 * ÂÆûÁé∞Â∫îÁî®ÈÖçÁΩÆÁÆ°ÁêÜÔºåÂåÖÊã¨‰∏ªÈ¢ò„ÄÅËØ≠Ë®Ä„ÄÅÁºìÂ≠ò„ÄÅÊí≠ÊîæÁ≠âËÆæÁΩÆ
 */
@Entry
@Component
struct SettingsPage {
  private readonly TAG: string = 'SettingsPage';
  
  // Áä∂ÊÄÅÁÆ°Áê?  @State themeMode: 'light' | 'dark' | 'auto' = 'auto';
  @State language: 'zh' | 'en' = 'zh';
  @State autoPlay: boolean = true;
  @State autoNextEpisode: boolean = true;
  @State rememberProgress: boolean = true;
  @State enableHardwareAcceleration: boolean = true;
  @State cacheStrategy: 'memory' | 'disk' | 'none' = 'disk';
  @State maxCacheSize: number = 1024; // MB
  @State currentCacheSize: number = 0;
  @State enableUpdateCheck: boolean = true;
  @State notificationsEnabled: boolean = true;
  @State version: string = '1.0.0';
  
  // ÂπøÂëäÂ±èËîΩËÆæÁΩÆ
  @State enableAdBlock: boolean = true;
  @State blockVideoAds: boolean = true;
  @State blockPopupAds: boolean = true;
  
  // Â£ÅÁ∫∏ËÆæÁΩÆ
  @State enableWallpaper: boolean = false;
  @State wallpaperType: 'none' | 'image' | 'video' = 'none';
  
  // È∏øËíôÁâπÊúâÂäüËÉΩËÆæÁΩÆ
  @State enableVoiceAssistant: boolean = true;
  @State enableDeviceFlow: boolean = true;
  
  // ÂØπËØùÊ°ÜÁä∂ÊÄ?  @State showClearCacheDialog: boolean = false;
  @State showAboutDialog: boolean = false;
  
  // ÂàùÂßãÂå?  /**
   * È°µÈù¢Âä†ËΩΩÊó∂Ë∞ÉÁî?   */
  aboutToAppear(): void {
    Logger.info(this.TAG, 'SettingsPage appeared');
    this.loadSettings();
    this.calculateCacheSize();
  }

  /**
   * È°µÈù¢Âç∏ËΩΩÊó∂Ë∞ÉÁî?   */
  aboutToDisappear(): void {
    Logger.info(this.TAG, 'SettingsPage disappeared');
  }
  
  /**
   * Âä†ËΩΩËÆæÁΩÆ
   */
  private loadSettings(): void {
    try {
      // ‰ªéÈÖçÁΩÆÊúçÂä°Âä†ËΩΩËÆæÁΩ?      // ‰ΩøÁî®PromiseÈìæÊù•Âä†ËΩΩÊâÄÊúâËÆæÁΩ?      configService.getConfig('themeMode', 'auto')
        .then(themeMode => {
          this.themeMode = themeMode;
          return configService.getConfig('language', 'zh');
        })
        .then(language => {
          this.language = language;
          return configService.getConfig('autoPlay', true);
        })
        .then(autoPlay => {
          this.autoPlay = autoPlay;
          return configService.getConfig('autoNextEpisode', true);
        })
        .then(autoNextEpisode => {
          this.autoNextEpisode = autoNextEpisode;
          return configService.getConfig('rememberProgress', true);
        })
        .then(rememberProgress => {
          this.rememberProgress = rememberProgress;
          return configService.getConfig('enableHardwareAcceleration', true);
        })
        .then(enableHardwareAcceleration => {
          this.enableHardwareAcceleration = enableHardwareAcceleration;
          return configService.getConfig('cacheStrategy', 'disk');
        })
        .then(cacheStrategy => {
          this.cacheStrategy = cacheStrategy;
          return configService.getConfig('maxCacheSize', 1024);
        })
        .then(maxCacheSize => {
          this.maxCacheSize = maxCacheSize;
          return configService.getConfig('enableUpdateCheck', true);
        })
        .then(enableUpdateCheck => {
          this.enableUpdateCheck = enableUpdateCheck;
          return configService.getConfig('notificationsEnabled', true);
        })
        .then(notificationsEnabled => {
          this.notificationsEnabled = notificationsEnabled;
          return configService.getConfig('enableAdBlock', true);
        })
        .then(enableAdBlock => {
          this.enableAdBlock = enableAdBlock;
          return configService.getConfig('blockVideoAds', true);
        })
        .then(blockVideoAds => {
          this.blockVideoAds = blockVideoAds;
          return configService.getConfig('blockPopupAds', true);
        })
        .then(blockPopupAds => {
          this.blockPopupAds = blockPopupAds;
          return configService.getConfig('enableWallpaper', false);
        })
        .then(enableWallpaper => {
          this.enableWallpaper = enableWallpaper;
          return configService.getConfig('wallpaperType', 'none');
        })
        .then(wallpaperType => {
          this.wallpaperType = wallpaperType;
          return configService.getConfig('enableVoiceAssistant', true);
        })
        .then(enableVoiceAssistant => {
          this.enableVoiceAssistant = enableVoiceAssistant;
          return configService.getConfig('enableDeviceFlow', true);
        })
        .then(enableDeviceFlow => {
          this.enableDeviceFlow = enableDeviceFlow;
          // Ëé∑ÂèñÂ∫îÁî®ÁâàÊú¨
          return this.getAppVersion();
        })
        .then(version => {
          this.version = version;
          Logger.info(this.TAG, 'Settings loaded successfully');
        })
        .catch(error => {
          const errorMessage = error instanceof Error ? error.message : String(error);
          Logger.error(this.TAG, 'Failed to load settings', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
        });
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to load settings', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
    }
  }
  
  /**
   * ‰øùÂ≠òËÆæÁΩÆ
   */
  private saveSetting(key: string, value: string | number | boolean | null | Record<string, string | number | boolean | null>): void {
    try {
      configService.setConfig(key, value)
        .then(() => {
          Logger.info(this.TAG, `Setting saved: ${key} = ${value}`);
        })
        .catch(error => {
          const errorMessage = error instanceof Error ? error.message : String(error);
          Logger.error(this.TAG, `Failed to save setting ${key}`, new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
          // ‰øùÂ≠òËÆæÁΩÆÂ§±Ë¥•ÊèêÁ§∫
        });
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, `Failed to save setting ${key}`, new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
      // ‰øùÂ≠òËÆæÁΩÆÂ§±Ë¥•ÊèêÁ§∫
    }
  }
  
  /**
   * ËÆ°ÁÆóÁºìÂ≠òÂ§ßÂ∞è
   */
  private calculateCacheSize(): void {
    try {
      // ËøôÈáåÂ∫îËØ•Ë∞ÉÁî®ÁºìÂ≠òÁÆ°ÁêÜÊúçÂä°ËÆ°ÁÆóÁºìÂ≠òÂ§ßÂ∞è
      // ÊöÇÊó∂‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ
      this.currentCacheSize = 235; // MB
      Logger.info(this.TAG, `Cache size calculated: ${this.currentCacheSize} MB`);
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to calculate cache size', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
    }
  }
  
  /**
   * Ê∏ÖÈô§ÁºìÂ≠ò
   */
  private clearCache(): void {
    try {
      // Ë∞ÉÁî®Áõ∏ÂÖ≥ÊúçÂä°Ê∏ÖÈô§ÁºìÂ≠ò
      mediaService.clearCache()
        .then(() => {
          // Êõ¥Êñ∞ÁºìÂ≠òÂ§ßÂ∞è
          this.currentCacheSize = 0;
          this.showClearCacheDialog = false;
          
          Logger.info(this.TAG, 'Cache cleared successfully');
          // ÁºìÂ≠òÂ∑≤Ê∏ÖÈô§ÊèêÁ§?        })
        .catch(error => {
          const errorMessage = error instanceof Error ? error.message : String(error);
          Logger.error(this.TAG, 'Failed to clear cache', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
          // Ê∏ÖÈô§ÁºìÂ≠òÂ§±Ë¥•ÊèêÁ§∫
        });
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to clear cache', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
      // Ê∏ÖÈô§ÁºìÂ≠òÂ§±Ë¥•ÊèêÁ§∫
    }
  }
  
  /**
   * Ëé∑ÂèñÂ∫îÁî®ÁâàÊú¨
   */
  private getAppVersion(): string {
    try {
      // ËøôÈáåÂ∫îËØ•‰ªéÂ∫îÁî®ÈÖçÁΩÆ‰∏≠Ëé∑ÂèñÁâàÊú¨Âè?      // ÊöÇÊó∂ËøîÂõûÂõ∫ÂÆöÁâàÊú¨
      return '1.0.0';
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to get app version', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
      return '1.0.0';
    }
  }
  
  /**
   * Ê£ÄÊü•Êõ¥Êñ?   */
  private checkForUpdates(): void {
    try {
      // Ë∞ÉÁî®Êõ¥Êñ∞Ê£ÄÊü•ÊúçÂä?      Logger.info(this.TAG, 'Checking for updates...');
      
      // Ê®°ÊãüÊ£ÄÊü•Êõ¥Êñ?      // ÂΩìÂâçÂ∑≤ÊòØÊúÄÊñ∞ÁâàÊú¨ÊèêÁ§?    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to check for updates', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
      // Ê£ÄÊü•Êõ¥Êñ∞Â§±Ë¥•ÊèêÁ§?    }
  }
  
  /**
   * ÈáçÁΩÆÊâÄÊúâËÆæÁΩ?   */
  private resetSettings(): void {
    try {
      // ÈáçÁΩÆÈÖçÁΩÆÊúçÂä°‰∏≠ÁöÑÊâÄÊúâËÆæÁΩ?      configService.resetAllConfigs()
        .then(() => {
          // ÈáçÊñ∞Âä†ËΩΩËÆæÁΩÆ
          this.loadSettings();
          
          Logger.info(this.TAG, 'Settings reset to default');
          // Â∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§ËÆæÁΩÆÊèêÁ§∫
        })
        .catch(error => {
          const errorMessage = error instanceof Error ? error.message : String(error);
          Logger.error(this.TAG, 'Failed to reset settings', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
          // ÈáçÁΩÆËÆæÁΩÆÂ§±Ë¥•ÊèêÁ§∫
        });
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to reset settings', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
      // ÈáçÁΩÆËÆæÁΩÆÂ§±Ë¥•ÊèêÁ§∫
    }
  }
  
  /**
   * Â§ÑÁêÜËøîÂõû
   */
  private handleBack(): void {
    this.context.router.back();
  }
  
  /**
   * Â§ÑÁêÜ‰∏ªÈ¢òÂàáÊç¢
   */
  private handleThemeChange(theme: 'light' | 'dark' | 'auto'): void {
    this.themeMode = theme;
    this.saveSetting('themeMode', theme);
    // ËøôÈáåÂ∫îËØ•Â∫îÁî®‰∏ªÈ¢òÂàáÊç¢
  }
  
  /**
   * Ê∏≤ÊüìÂ§¥ÈÉ®
   */
  @Builder
  private renderHeader(): void {
    Stack()
    .width('100%')
    .height('80vp')
    .backgroundColor('#00AA00')
    .justifyContent(FlexAlign.Center)
    .alignItems(FlexAlign.Start)
    .padding({ left: '20vp' }) {
      Button()
      .width('60vp')
      .height('60vp')
      .backgroundColor('transparent')
      .justifyContent(FlexAlign.Center)
      .alignItems(FlexAlign.Center) {
        Text("‚Ü?)
          .fontSize('30vp')
          .fontColor('#FFFFFF')
      }
      .onClick(this.handleBack)
      
      Text("ËÆæÁΩÆ")
        .fontSize('32vp')
        .fontColor('#FFFFFF')
        .fontWeight(FontWeight.Bold)
        .margin({ left: '20vp' })
    }
  }
  
  /**
   * Ê∏≤ÊüìËÆæÁΩÆÂàÜÁªÑ
   */
  @Builder
  private renderSettingGroup(title: string): void {
    Column()
    .width('100%')
    .margin({ top: '20vp' }) {
      Text(title)
        .fontSize('24vp')
        .fontColor('#333333')
        .fontWeight(FontWeight.Bold)
        .margin({ left: '20vp', bottom: '10vp' })
    }
  }
  
  /**
   * Ê∏≤ÊüìÂºÄÂÖ≥ËÆæÁΩÆÈ°π
   */
  @Builder
  private renderSwitchItem(label: string, checked: boolean, onValueChange: (value: boolean) => void, description?: string): void {
    Stack()
    .width('90%')
    .height('100vp')
    .margin({ left: '5%', right: '5%', bottom: '10vp' })
    .backgroundColor('#FFFFFF')
    .borderRadius('12vp')
    .padding({ left: '20vp', right: '20vp' })
    .justifyContent(FlexAlign.Center)
    .shadow({ radius: 4, color: '#00000020', offsetX: 0, offsetY: 2 }) {
      Flex()
      .width('100%')
      .justifyContent(FlexAlign.SpaceBetween)
      .alignItems(FlexAlign.Center) {
        Flex({
          direction: FlexDirection.Column
        }) {
          Text(label)
            .fontSize('20vp')
            .fontColor('#333333')
          
          if (description) {
            Text(description)
              .fontSize('16vp')
              .fontColor('#666666')
              .margin({ top: '5vp' })
          }
        }
        
        Toggle()
          .isOn(checked)
          .onChange((value) => onValueChange(value))
      }
    }
  }
  
  /**
   * Ê∏≤ÊüìÈÄâÈ°πËÆæÁΩÆÈ°?   */
  @Builder
  private renderOptionItem(label: string, value: string, onClick: () => void, icon?: string): void {
    Stack({
      width: '90%',
      height: '100vp',
      margin: { left: '5%', right: '5%', bottom: '10vp' },
      backgroundColor: '#FFFFFF',
      borderRadius: '12vp',
      padding: { left: '20vp', right: '20vp' },
      justifyContent: FlexAlign.Center,
      shadow: { radius: 4, color: '#00000020', offsetX: 0, offsetY: 2 }
    }) {
      Flex({
        width: '100%',
        justifyContent: FlexAlign.SpaceBetween,
        alignItems: FlexAlign.Center
      }) {
        Flex({
          alignItems: FlexAlign.Center
        }) {
          if (icon) {
            Text(icon)
              .fontSize('24vp')
              .margin({ right: '15vp' })
          }
          
          Flex({
            direction: FlexDirection.Column
          }) {
            Text(label)
              .fontSize('20vp')
              .fontColor('#333333')
            
            if (value) {
              Text(value)
                .fontSize('16vp')
                .fontColor('#666666')
                .margin({ top: '5vp' })
            }
          }
        }
        
        Flex({
          alignItems: FlexAlign.Center
        }) {
          if (value) {
            Text(value)
              .fontSize('16vp')
              .fontColor('#666666')
              .margin({ right: '10vp' })
          }
          
          Text("‚Ü?)
            .fontSize('20vp')
            .fontColor('#999999')
        }
      }
    }
    .onClick(onClick)
  }
  
  /**
   * Ê∏≤Êüì‰∏ªÈ¢òËÆæÁΩÆ
   */
  @Builder
  private renderThemeSettings(): void {
    this.renderSettingGroup('Â§ñËßÇËÆæÁΩÆ');
    Stack({
      width: '90%',
      height: '140vp',
      margin: { left: '5%', right: '5%', bottom: '10vp' },
      backgroundColor: '#FFFFFF',
      borderRadius: '12vp',
      padding: { left: '20vp', right: '20vp' },
      justifyContent: FlexAlign.Center,
      shadow: { radius: 4, color: '#00000020', offsetX: 0, offsetY: 2 }
    }) {
      Column({
        width: '100%'
      }) {
        Text("‰∏ªÈ¢òÊ®°Âºè")
          .fontSize('20vp')
          .fontColor('#333333')
          .margin({ bottom: '20vp' })
        
        Flex({
          width: '100%',
          justifyContent: FlexAlign.SpaceBetween
        }) {
          Button({
            width: '30%',
            height: '50vp',
            backgroundColor: this.themeMode === 'light' ? '#00AA00' : '#F0F0F0',
            borderRadius: '8vp'
          }) {
            Text("ÊµÖËâ≤")
              .fontSize('16vp')
              .fontColor(this.themeMode === 'light' ? '#FFFFFF' : '#333333')
          }
          .onClick(() => this.handleThemeChange('light'))
          
          Button({
            width: '30%',
            height: '50vp',
            backgroundColor: this.themeMode === 'dark' ? '#00AA00' : '#F0F0F0',
            borderRadius: '8vp'
          }) {
            Text("Ê∑±Ëâ≤")
              .fontSize('16vp')
              .fontColor(this.themeMode === 'dark' ? '#FFFFFF' : '#333333')
          }
          .onClick(() => this.handleThemeChange('dark'))
          
          Button({
            width: '30%',
            height: '50vp',
            backgroundColor: this.themeMode === 'auto' ? '#00AA00' : '#F0F0F0',
            borderRadius: '8vp'
          }) {
            Text("Ëá™Âä®")
              .fontSize('16vp')
              .fontColor(this.themeMode === 'auto' ? '#FFFFFF' : '#333333')
          }
          .onClick(() => this.handleThemeChange('auto'))
        }
      }
    }
    
    this.renderOptionItem(
      'ËØ≠Ë®Ä', 
      this.language === 'zh' ? 'ÁÆÄ‰Ωì‰∏≠Êñ? : 'English', 
      () => {}
    );
  }
  
  /**
   * Ê∏≤ÊüìÊí≠ÊîæËÆæÁΩÆ
   */
  @Builder
  private renderPlaybackSettings(): void {
    this.renderSettingGroup('Êí≠ÊîæËÆæÁΩÆ', () => {
      this.renderSwitchItem(
        'Ëá™Âä®Êí≠Êîæ', 
        this.autoPlay, 
        (value) => {
          this.autoPlay = value;
          this.saveSetting('autoPlay', value);
        },
        'ËøõÂÖ•Êí≠ÊîæÈ°µÂêéËá™Âä®ÂºÄÂßãÊí≠Êî?
      );
      
      Divider();
      
      this.renderSwitchItem(
        'Ëá™Âä®Êí≠Êîæ‰∏ã‰∏ÄÈõ?,
        this.autoNextEpisode, 
        (value) => {
          this.autoNextEpisode = value;
          this.saveSetting('autoNextEpisode', value);
        }
      );
      
      Divider();
      
      this.renderSwitchItem(
        'ËÆ∞‰ΩèÊí≠ÊîæËøõÂ∫¶', 
        this.rememberProgress, 
        (value) => {
          this.rememberProgress = value;
          this.saveSetting('rememberProgress', value);
        }
      );
      
      Divider();
      
      this.renderSwitchItem(
        'Á°¨‰ª∂Âä†ÈÄ?, 
        this.enableHardwareAcceleration, 
        (value) => {
          this.enableHardwareAcceleration = value;
          this.saveSetting('enableHardwareAcceleration', value);
        },
        '‰ΩøÁî®Á°¨‰ª∂Âä†ÈÄüÊèêÈ´òÊí≠ÊîæÊµÅÁïÖÂ∫¶'
      );
    });
  }
  
  /**
   * Ê∏≤ÊüìÁºìÂ≠òËÆæÁΩÆ
   */
  @Builder
  private renderCacheSettings(): void {
    this.renderSettingGroup('ÁºìÂ≠òËÆæÁΩÆ', () => {
      this.renderOptionItem(
        'ÁºìÂ≠òÁ≠ñÁï•', 
        this.getCacheStrategyText(), 
        () => {}
      );
      
      Stack({
        width: '90%',
        height: '100vp',
        margin: { left: '5%', right: '5%', bottom: '10vp' },
        backgroundColor: '#FFFFFF',
        borderRadius: '12vp',
        padding: { left: '20vp', right: '20vp' },
        justifyContent: FlexAlign.Center,
        shadow: { radius: 4, color: '#00000020', offsetX: 0, offsetY: 2 }
      }) {
        Flex({
          width: '100%',
          justifyContent: FlexAlign.SpaceBetween,
          alignItems: FlexAlign.Center
        }) {
          Text("ÊúÄÂ§ßÁºìÂ≠òÂ§ßÂ∞?)
            .fontSize('20vp')
            .fontColor('#333333')
          
          Text(this.maxCacheSize + " MB")
            .fontSize('18vp')
            .fontColor('#00AA00')
            .fontWeight(FontWeight.Bold)
        }
      }
      
      this.renderOptionItem(
        'Ê∏ÖÈô§ÁºìÂ≠ò', 
        `${this.currentCacheSize} MB`, 
        () => { this.showClearCacheDialog = true; },
        'üóëÔ∏?
      );
    });
  }
  
  /**
   * Ê∏≤ÊüìÈÄöÁü•ËÆæÁΩÆ
   */
  @Builder
  private renderNotificationSettings(): void {
    this.renderSettingGroup('ÈÄöÁü•ËÆæÁΩÆ', () => {
      this.renderSwitchItem(
        'ÂºÄÂêØÈÄöÁü•', 
        this.notificationsEnabled, 
        (value) => {
          this.notificationsEnabled = value;
          this.saveSetting('notificationsEnabled', value);
        }
      );
      
      Divider();
      
      this.renderSwitchItem(
        'Ê£ÄÊü•Êõ¥Êñ?, 
        this.enableUpdateCheck, 
        (value) => {
          this.enableUpdateCheck = value;
          this.saveSetting('enableUpdateCheck', value);
        }
      );
      
      Divider();
      
      this.renderOptionItem(
        'Ê£ÄÊü•Êõ¥Êñ?, 
        '', 
        this.checkForUpdates,
        'üîÑ'
      );
    });
  }
  
  /**
   * Ê∏≤ÊüìÂπøÂëäÂ±èËîΩËÆæÁΩÆ
   */
  @Builder
  private renderAdBlockSettings(): void {
    this.renderSettingGroup('ÂπøÂëäÂ±èËîΩ', () => {
      this.renderSwitchItem(
        'ÂêØÁî®ÂπøÂëäÂ±èËîΩ', 
        this.enableAdBlock, 
        (value) => {
          this.enableAdBlock = value;
          this.saveSetting('enableAdBlock', value);
        },
        'Â±èËîΩËßÜÈ¢ë‰∏≠ÁöÑÂπøÂëäÂÜÖÂÆπ'
      );
      
      Divider();
      
      this.renderSwitchItem(
        'Â±èËîΩËßÜÈ¢ëÂπøÂëä', 
        this.blockVideoAds, 
        (value) => {
          this.blockVideoAds = value;
          this.saveSetting('blockVideoAds', value);
        },
        'ËøáÊª§Êí≠ÊîæËøáÁ®ã‰∏≠ÁöÑÂπøÂëäÁâáÊÆµ'
      );
      
      Divider();
      
      this.renderSwitchItem(
        'Â±èËîΩÂºπÁ™óÂπøÂëä', 
        this.blockPopupAds, 
        (value) => {
          this.blockPopupAds = value;
          this.saveSetting('blockPopupAds', value);
        },
        'Êã¶Êà™È°µÈù¢‰∏≠ÁöÑÂºπÁ™óÂπøÂëä'
      );
      
      Divider();
      
      this.renderOptionItem(
        'Êõ¥Êñ∞ÂπøÂëäËßÑÂàô', 
        '', 
        this.updateAdBlockRules,
        'üîÑ'
      );
    });
  }
  
  /**
   * Ê∏≤ÊüìÂ£ÅÁ∫∏ËÆæÁΩÆ
   */
  @Builder
  private renderWallpaperSettings(): void {
    this.renderSettingGroup('Â£ÅÁ∫∏ËÆæÁΩÆ', () => {
      this.renderSwitchItem(
        'ÂêØÁî®Â£ÅÁ∫∏', 
        this.enableWallpaper, 
        (value) => {
          this.enableWallpaper = value;
          this.saveSetting('enableWallpaper', value);
        },
        'Ëá™ÂÆö‰πâÂ∫îÁî®ËÉåÊôØÂ£ÅÁ∫?
      );
      
      this.renderOptionItem(
        'Â£ÅÁ∫∏Á±ªÂûã', 
        this.getWallpaperTypeText(), 
        () => {}
      );
      
      this.renderOptionItem(
        'ÈÄâÊã©Â£ÅÁ∫∏', 
        '', 
        this.selectWallpaper,
        'üñºÔ∏?
      );
    });
  }
  
  /**
   * Ê∏≤ÊüìÈ∏øËíôÁâπÊúâÂäüËÉΩËÆæÁΩÆ
   */
  @Builder
  private renderHarmonyFeaturesSettings(): void {
    this.renderSettingGroup('È∏øËíôÂäüËÉΩ', () => {
      this.renderSwitchItem(
        'Â∞èËâ∫ËØ≠Èü≥Âä©Êâã', 
        this.enableVoiceAssistant, 
        (value) => {
          this.enableVoiceAssistant = value;
          this.saveSetting('enableVoiceAssistant', value);
        },
        'ÈÄöËøáËØ≠Èü≥ÊéßÂà∂Â∫îÁî®ÂäüËÉΩ'
      );
      
      Divider();
      
      this.renderSwitchItem(
        'ËÆæÂ§áÊµÅËΩ¨', 
        this.enableDeviceFlow, 
        (value) => {
          this.enableDeviceFlow = value;
          this.saveSetting('enableDeviceFlow', value);
        },
        'Âú®‰∏çÂêåËÆæÂ§áÈó¥Êó†ÁºùÂàáÊç¢Êí≠Êîæ'
      );
    });
  }
  
  /**
   * Êõ¥Êñ∞ÂπøÂëäËßÑÂàô
   */
  private updateAdBlockRules(): void {
    try {
      Logger.info(this.TAG, 'Updating ad block rules...');
      // ËøôÈáåÂ∫îËØ•Ë∞ÉÁî®ÂπøÂëäÂ±èËîΩÊúçÂä°Êõ¥Êñ∞ËßÑÂàô
      // ÂπøÂëäËßÑÂàôÊõ¥Êñ∞ÊàêÂäüÊèêÁ§∫
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to update ad block rules', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
      // Êõ¥Êñ∞ÂπøÂëäËßÑÂàôÂ§±Ë¥•ÊèêÁ§∫
    }
  }
  
  /**
   * ÈÄâÊã©Â£ÅÁ∫∏
   */
  private selectWallpaper(): void {
    try {
      Logger.info(this.TAG, 'Selecting wallpaper...');
      // ËøôÈáåÂ∫îËØ•ÊâìÂºÄÂ£ÅÁ∫∏ÈÄâÊã©ÁïåÈù¢
      // ËØ∑ÈÄâÊã©Â£ÅÁ∫∏ÊèêÁ§∫
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      Logger.error(this.TAG, 'Failed to select wallpaper', new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage : new Error(String(new Error(errorMessage instanceof Error ? new Error(errorMessage : new Error(String(new Error(errorMessage))))))));
      // ÈÄâÊã©Â£ÅÁ∫∏Â§±Ë¥•ÊèêÁ§∫
    }
  }
  
  /**
   * Ëé∑ÂèñÂ£ÅÁ∫∏Á±ªÂûãÊñáÊú¨
   */
  private getWallpaperTypeText(): string {
    switch (this.wallpaperType) {
      case 'none':
        return 'Êó†Â£ÅÁ∫?;
      case 'image':
        return 'ÂõæÁâáÂ£ÅÁ∫∏';
      case 'video':
        return 'ËßÜÈ¢ëÂ£ÅÁ∫∏';
      default:
        return 'Êó†Â£ÅÁ∫?;
    }
  }
  
  /**
   * Ê∏≤ÊüìÂÖ≥‰∫éËÆæÁΩÆ
   */
  @Builder
  private renderAboutSettings(): void {
    this.renderSettingGroup('ÂÖ≥‰∫é', () => {
      this.renderOptionItem(
        'ÂÖ≥‰∫éÂ∫îÁî®', 
        '', 
        () => { this.showAboutDialog = true; },
        '‚ÑπÔ∏è'
      );
      
      Stack({
        width: '90%',
        height: '100vp',
        margin: { left: '5%', right: '5%', bottom: '10vp' },
        backgroundColor: '#FFFFFF',
        borderRadius: '12vp',
        padding: { left: '20vp', right: '20vp' },
        justifyContent: FlexAlign.Center,
        shadow: { radius: 4, color: '#00000020', offsetX: 0, offsetY: 2 }
      }) {
        Flex({
          width: '100%',
          justifyContent: FlexAlign.SpaceBetween,
          alignItems: FlexAlign.Center
        }) {
          Text("ÁâàÊú¨")
            .fontSize('20vp')
            .fontColor('#333333')
          
          Text("v" + this.version)
            .fontSize('18vp')
            .fontColor('#00AA00')
            .fontWeight(FontWeight.Bold)
        }
      }
      
      this.renderOptionItem(
        'Áî®Êà∑ÂçèËÆÆ', 
        '', 
        () => {},
        'üìÑ'
      );
      
      this.renderOptionItem(
        'ÈöêÁßÅÊîøÁ≠ñ', 
        '', 
        () => {},
        'üîí'
      );
      
      Button({
        width: '90%',
        height: '80vp',
        margin: { left: '5%', right: '5%', top: '10vp', bottom: '20vp' },
        backgroundColor: '#00AA00',
        borderRadius: '12vp'
      })
      .onClick(this.resetSettings) {
        Text("ÊÅ¢Â§çÈªòËÆ§ËÆæÁΩÆ")
          .fontSize('20vp')
          .fontColor('#FFFFFF')
          .fontWeight(FontWeight.Bold)
      }
    });
  }
  
  /**
   * Ëé∑ÂèñÁºìÂ≠òÁ≠ñÁï•ÊñáÊú¨
   */
  private getCacheStrategyText(): string {
    switch (this.cacheStrategy) {
      case 'memory':
        return '‰ªÖÂÜÖÂ≠?;
      case 'disk':
        return 'Á£ÅÁõò';
      case 'none':
        return 'Êó†ÁºìÂ≠?;
      default:
        return 'Á£ÅÁõò';
    }
  }
  
  /**
   * Ê∏≤ÊüìÊ∏ÖÈô§ÁºìÂ≠òÂØπËØùÊ°?   */
  private renderClearCacheDialog(): void {
    // Âú®ArkTS‰∏≠ÔºåDialogÁªÑ‰ª∂Â∫îËØ•Âú®buildÊñπÊ≥ï‰∏≠‰ΩøÁî®Êù°‰ª∂Ê∏≤Êü?    // ËøôÈáåÂè™ËøîÂõûÂØπËØùÊ°ÜÂÜÖÂÆπÔºå‰∏çÂåÖÂê´DialogÁªÑ‰ª∂
  }
  
  /**
   * Ê∏≤ÊüìÂÖ≥‰∫éÂØπËØùÊ°?   */
  private renderAboutDialog(): void {
    // Âú®ArkTS‰∏≠ÔºåDialogÁªÑ‰ª∂Â∫îËØ•Âú®buildÊñπÊ≥ï‰∏≠‰ΩøÁî®Êù°‰ª∂Ê∏≤Êü?    // ËøôÈáåÂè™ËøîÂõûÂØπËØùÊ°ÜÂÜÖÂÆπÔºå‰∏çÂåÖÂê´DialogÁªÑ‰ª∂
  }
  
  /**
   * ÁªÑ‰ª∂Ê∏≤Êüì
   */
  build() {
    Column({
      width: '100%',
      height: '100%',
      backgroundColor: '#F5F5F5'
    }) {
      // È°µÈù¢Â§¥ÈÉ®
      this.renderHeader()
      
      // ËÆæÁΩÆÂÜÖÂÆπ
      ScrollView({
        scrollBar: ScrollBarState.Auto,
        flexGrow: 1
      }) {
        Column()
        .padding({ top: '10vp', bottom: '30vp' }) {
        // ÂàõÂª∫ËÆæÁΩÆÈ°πÁΩëÊ†ºÂ∏ÉÂ±Ä
        Column({
          width: '100%'
        }) {
          // Ê∏≤ÊüìÂêÑÁßçËÆæÁΩÆÂàÜÁªÑ
          this.renderThemeSettings()
          this.renderPlaybackSettings()
          this.renderAdBlockSettings()
          this.renderWallpaperSettings()
          this.renderHarmonyFeaturesSettings()
          this.renderCacheSettings()
          this.renderNotificationSettings()
          this.renderAboutSettings()
          
          // Â∫ïÈÉ®Á©∫Èó¥
          Blank()
            .height('30vp')
        }
      }
      }
      
      // ÂØπËØùÊ°?- ‰ΩøÁî®Êù°‰ª∂Ê∏≤Êüì
      if (this.showClearCacheDialog) {
        Dialog({
          title: 'Ê∏ÖÈô§ÁºìÂ≠ò',
          message: 'Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÁºìÂ≠òÂêóÔºüËøôÂ∞ÜÂà†Èô§ÊâÄÊúâÁ¶ªÁ∫øÂÜÖÂÆπ„Ä?,
          autoCancel: true,
          alignment: DialogAlignment.Center,
          offset: { dx: 0, dy: 0 },
          gridCount: 3,
          customStyle: true
        })
        .onCancel(() => { this.showClearCacheDialog = false; })
        .onClose(() => { this.showClearCacheDialog = false; }) {
          Button({
            type: ButtonType.Normal,
            stateEffect: true
          })
          .width('100%')
          .backgroundColor('#F0F0F0')
          .onClick(() => { this.showClearCacheDialog = false; }) {
            Text('ÂèñÊ∂à')
              .fontSize('18vp')
              .fontColor('#333333')
          }
          
          Button({
            type: ButtonType.Normal,
            stateEffect: true
          })
          .width('100%')
          .backgroundColor('#00AA00')
          .onClick(this.clearCache) {
            Text('Á°ÆÂÆö')
              .fontSize('18vp')
              .fontColor('#FFFFFF')
          }
        }
      }
      
      if (this.showAboutDialog) {
        Dialog({
          title: 'ÂÖ≥‰∫éÂ∫îÁî®',
          message: `RayTV\nÁâàÊú¨ v${this.version}\n‰∏ÄÊ¨æÂäüËÉΩÂº∫Â§ßÁöÑÂ™í‰ΩìÊí≠ÊîæÂô®Â∫îÁî®Ôºå‰∏∫ÊÇ®Êèê‰æõ‰ºòË¥®ÁöÑËßÇÂΩ±‰ΩìÈ™å„ÄÇ\n¬© 2024 RayTV Team`,
          autoCancel: true,
          alignment: DialogAlignment.Center,
          offset: { dx: 0, dy: 0 },
          gridCount: 3,
          customStyle: true
        })
        .onCancel(() => { this.showAboutDialog = false; })
        .onClose(() => { this.showAboutDialog = false; }) {
          Button({
            type: ButtonType.Normal,
            stateEffect: true
          })
          .width('100%')
          .backgroundColor('#00AA00')
          .onClick(() => { this.showAboutDialog = false; }) {
            Text('Á°ÆÂÆö')
              .fontSize('18vp')
              .fontColor('#FFFFFF')
          }
        }
      }
    }
  }
}

export default SettingsPage;


