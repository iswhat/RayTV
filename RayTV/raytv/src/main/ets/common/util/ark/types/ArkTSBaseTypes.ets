// ArkTSBaseTypes.ets - ArkTSå…¼å®¹çš„åŸºç¡€ç±»å‹å®šä¹‰

/**
 * åŸºç¡€ç±»å‹å·¥å…·å‡½æ•°
 * æä¾›ArkTSç¯å¢ƒä¸­å¸¸ç”¨çš„ç±»å‹å®šä¹‰å’Œå·¥å…·å‡½æ•? */

/**
 * å®šä¹‰Anyç±»å‹ï¼Œæ›¿ä»£TypeScriptçš„anyï¼Œåœ¨ArkTSä¸­æä¾›æ›´å®‰å…¨çš„ç±»å‹ä½¿ç”? */
export type SafeAny = unknown;

/**
 * å®šä¹‰å‡½æ•°ç±»å‹ï¼Œé¿å…ä½¿ç”¨Functionå…³é”®å­? */
export type SafeFunction = (...args: Record<string, string | number | boolean | null>[]) => unknown;

/**
 * å®šä¹‰Asyncå‡½æ•°ç±»å‹
 */
export type SafeAsyncFunction = (...args: Record<string, string | number | boolean | null>[]) => Promise<unknown>;

/**
 * å®‰å…¨å¯¹è±¡ç±»å‹ï¼Œæ›¿ä»£ç´¢å¼•ç­¾å? */
export interface SafeObject {
  [key: string]: string | number | boolean | object | null | undefined;
}

/**
 * é”®å€¼å¯¹ç±»å‹
 */
export interface KeyValuePair<K, V> {
  key: K;
  value: V;
}

/**
 * å¯åºåˆ—åŒ–çš„æ•°æ®ç±»å? */
export type SerializableData = 
  | string
  | number
  | boolean
  | null
  | SerializableData[]
  | Record<string, SerializableData>;

/**
 * ç»“æœç±»å‹ï¼ŒåŒ…å«æˆåŠŸå’Œå¤±è´¥ä¸¤ç§çŠ¶æ€? */
export interface Result<T, E = Error> {
  success: boolean;
  data?: T;
  error?: E;
}

/**
 * å¯é€‰å€¼ç±»å? */
export type Optional<T> = T | undefined | null;

/**
 * éç©ºå€¼ç±»å‹æ–­è¨€å‡½æ•°
 */
export function assertNotNull<T>(value: Optional<T>): asserts value is T {
  if (value === null || value === undefined) {
    throw new Error('Value cannot be null or undefined');
  }
}

/**
 * ç±»å‹å®ˆå«å‡½æ•°ï¼šæ£€æŸ¥å€¼æ˜¯å¦ä¸ºénullå’Œéundefined
 */
export function isNonNull<T>(value: Optional<T>): value is T {
  return value !== null && value !== undefined;
}

