// ValidatorUtil - éªŒè¯å·¥å…·ç±?// æä¾›æ•°æ®éªŒè¯ç›¸å…³çš„å·¥å…·å‡½æ•°ï¼ŒåŒ…æ‹¬é‚®ç®±ã€æ‰‹æœºå·ã€URLç­‰éªŒè¯?
import Logger from './Logger';

/**
 * éªŒè¯å·¥å…·ç±? */
export class ValidatorUtil {
  private static instance: ValidatorUtil;
  private logger = Logger.getInstance();

  /**
   * ç§æœ‰æ„é€ å‡½æ•?   */
  private constructor() {
    this.logger.info('ValidatorUtil initialized');
  }

  /**
   * è·å–éªŒè¯å™¨å•ä¾?   */
  public static getInstance(): ValidatorUtil {
    if (!ValidatorUtil.instance) {
      ValidatorUtil.instance = new ValidatorUtil();
    }
    return ValidatorUtil.instance;
  }
  
  /**
   * æ£€æŸ¥å¯¹è±¡æ˜¯å¦åŒ…å«æŒ‡å®šå±æ€?   * æ›¿ä»£Object.prototype.hasOwnProperty.callï¼Œå…¼å®¹ArkTSè¯­æ³•
   */
  private static hasOwnProperty<T extends object>(obj: T, key: string): boolean {
    return Object.getOwnPropertyNames(obj).includes(key);
  }

  /**
   * è·å–å¯¹è±¡çš„æ‰€æœ‰é”®
   * æ›¿ä»£Object.keysï¼Œå…¼å®¹ArkTSè¯­æ³•
   */
  private static getObjectKeys<T extends object>(obj: T): string[] {
    const keys: string[] = [];
    for (const key in obj) {
      // å®‰å…¨æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨ArkTSå…¼å®¹çš„æ–¹å¼?      if (typeof obj === 'object' && obj !== null && ValidatorUtil.hasOwnProperty(obj, key)) {
        keys.push(key);
      }
    }
    return keys;
  }
  
  /**
   * è·å–å¯¹è±¡çš„æ‰€æœ‰å€?   * æ›¿ä»£Object.valuesï¼Œå…¼å®¹ArkTSè¯­æ³•
   */
  private static getObjectValues<T extends object>(obj: T): T[keyof T][] {
    const values: T[keyof T][] = [];
    for (const key in obj) {
      // å®‰å…¨æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨ArkTSå…¼å®¹çš„æ–¹å¼?      if (typeof obj === 'object' && obj !== null && ValidatorUtil.hasOwnProperty(obj, key)) {
        values.push(obj[key]);
      }
    }
    return values;
  }

  /**
   * éªŒè¯é‚®ç®±æ ¼å¼
   * @param email é‚®ç®±åœ°å€
   */
  public isValidEmail(email: string): boolean {
    try {
      if (!email || typeof email !== 'string') {
        return false;
      }

      // æ ‡å‡†é‚®ç®±æ ¼å¼éªŒè¯æ­£åˆ™è¡¨è¾¾å¼?      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    } catch (error) {
      this.Logger.error('Failed to validate email', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯æ‰‹æœºå·æ ¼å¼ï¼ˆæ”¯æŒä¸­å›½æ‰‹æœºå·ï¼‰
   * @param phone æ‰‹æœºå?   * @param countryCode å›½å®¶ä»£ç 
   */
  public isValidPhone(phone: string, countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN' instanceof Error ? countryCode: string = 'CN' : new Error(String(countryCode: string = 'CN'))))))): boolean {
    try {
      if (!phone || typeof phone !== 'string') {
        return false;
      }

      // ç§»é™¤å›½å®¶ä»£ç å‰ç¼€å’Œç©ºæ ?      const cleanedPhone = phone.replace(/[+\s-]/g, '');

      // ä¸­å›½æ‰‹æœºå·éªŒè¯?      if (countryCode === 'CN') {
        const cnPhoneRegex = /^1[3-9]\d{9}$/;
        return cnPhoneRegex.test(cleanedPhone);
      }
      
      // ç®€å•çš„å›½é™…æ‰‹æœºå·éªŒè¯ï¼ˆ10-15ä½æ•°å­—ï¼‰
      const generalPhoneRegex = /^\d{10,15}$/;
      return generalPhoneRegex.test(cleanedPhone);
    } catch (error) {
      this.Logger.error('Failed to validate phone number', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯URLæ ¼å¼
   * @param url URLåœ°å€
   */
  public isValidUrl(url: string): boolean {
    try {
      if (!url || typeof url !== 'string') {
        return false;
      }

      // ç®€å•çš„URLéªŒè¯
      const urlRegex = /^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2, 6} instanceof Error ? 6} : new Error(String(6} instanceof Error ? 6} instanceof Error ? 6} : new Error(String(6} : new Error(String(6} instanceof Error ? 6} : new Error(String(6} instanceof Error ? 6} instanceof Error ? 6} : new Error(String(6} instanceof Error ? 6} instanceof Error ? 6} : new Error(String(6} : new Error(String(6} instanceof Error ? 6} : new Error(String(6} : new Error(String(6} instanceof Error ? 6} : new Error(String(6} instanceof Error ? 6} instanceof Error ? 6} : new Error(String(6} : new Error(String(6} instanceof Error ? 6} : new Error(String(6})))))))([\/\w .-]*)*\/?$/;
      return urlRegex.test(url);
    } catch (error) {
      this.Logger.error('Failed to validate URL', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯IPv4åœ°å€
   * @param ip IPåœ°å€
   */
  public isValidIpv4(ip: string): boolean {
    try {
      if (!ip || typeof ip !== 'string') {
        return false;
      }

      const ipv4Regex = /^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
      return ipv4Regex.test(ip);
    } catch (error) {
      this.logger.error('Failed to validate IPv4 address', error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error)))))));
      return false;
    }
  }

  /**
   * éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆæ•°å­?   * @param value å€?   * @param options éªŒè¯é€‰é¡¹
   */
  public isValidNumber(value: Record<string, string | number | boolean | null>, options: { min?: number; max?: number; integer?: boolean } = {}): boolean {
    try {
      const num = Number(value);

      if (isNaN(num)) {
        return false;
      }

      // æ£€æŸ¥æ˜¯å¦ä¸ºæ•´æ•°
      if (options.integer && !Number.isInteger(num)) {
        return false;
      }

      // æ£€æŸ¥æœ€å°å€?      if (options.min !== undefined && num < options.min) {
        return false;
      }

      // æ£€æŸ¥æœ€å¤§å€?      if (options.max !== undefined && num > options.max) {
        return false;
      }

      return true;
    } catch (error) {
      this.Logger.error('Failed to validate number', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯å­—ç¬¦ä¸²é•¿åº?   * @param str å­—ç¬¦ä¸?   * @param min æœ€å°é•¿åº?   * @param max æœ€å¤§é•¿åº?   */
  public isValidLength(str: string, min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity instanceof Error ? min: number = 0, max: number = Infinity : new Error(String(min: number = 0, max: number = Infinity))))))): boolean {
    try {
      if (typeof str !== 'string') {
        return false;
      }

      const length = str.length;
      return length >= min && length <= max;
    } catch (error) {
      this.Logger.error('Failed to validate string length', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯å¯†ç å¼ºåº¦
   * @param password å¯†ç 
   * @param options éªŒè¯é€‰é¡¹
   */
  public isValidPassword(password: string, options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    requireUppercase?: boolean;
    requireLowercase?: boolean;
    requireNumber?: boolean;
    requireSpecial?: boolean;
  } = {}))))))): boolean {
    try {
      if (!password || typeof password !== 'string') {
        return false;
      }

      const minLength = options.minLength ?? 8;
      const requireUppercase = options.requireUppercase ?? true;
      const requireLowercase = options.requireLowercase ?? true;
      const requireNumber = options.requireNumber ?? true;
      const requireSpecial = options.requireSpecial ?? true;

      // æ£€æŸ¥æœ€å°é•¿åº?      if (password.length < minLength) {
        return false;
      }

      // æ£€æŸ¥å¤§å†™å­—æ¯?      if (requireUppercase && !/[A-Z]/.test(password)) {
        return false;
      }

      // æ£€æŸ¥å°å†™å­—æ¯?      if (requireLowercase && !/[a-z]/.test(password)) {
        return false;
      }

      // æ£€æŸ¥æ•°å­?      if (requireNumber && !/[0-9]/.test(password)) {
        return false;
      }

      // æ£€æŸ¥ç‰¹æ®Šå­—ç¬?      if (requireSpecial && !/[^A-Za-z0-9]/.test(password)) {
        return false;
      }

      return true;
    } catch (error) {
      this.Logger.error('Failed to validate password strength', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯ç”¨æˆ·å?   * @param username ç”¨æˆ·å?   * @param options éªŒè¯é€‰é¡¹
   */
  public isValidUsername(username: string, options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} instanceof Error ? options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {} : new Error(String(options: {
    minLength?: number;
    maxLength?: number;
    allowUnderscore?: boolean;
    allowHyphen?: boolean;
  } = {}))))))): boolean {
    try {
      if (!username || typeof username !== 'string') {
        return false;
      }

      const minLength = options.minLength ?? 3;
      const maxLength = options.maxLength ?? 20;
      const allowUnderscore = options.allowUnderscore ?? true;
      const allowHyphen = options.allowHyphen ?? true;

      // æ£€æŸ¥é•¿åº?      if (username.length < minLength || username.length > maxLength) {
        return false;
      }

      // æ£€æŸ¥ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯æˆ–æ•°å­?      const firstChar = username[0];
      const isFirstCharValid = (firstChar >= 'a' && firstChar <= 'z') || 
                            (firstChar >= 'A' && firstChar <= 'Z') || 
                            (firstChar >= '0' && firstChar <= '9');
      if (!isFirstCharValid) {
        return false;
      }
      
      // æ£€æŸ¥æœ€åä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯æˆ–æ•°å­?      const lastChar = username[username.length - 1];
      const isLastCharValid = (lastChar >= 'a' && lastChar <= 'z') || 
                            (lastChar >= 'A' && lastChar <= 'Z') || 
                            (lastChar >= '0' && lastChar <= '9');
      if (!isLastCharValid) {
        return false;
      }
      
      // æ£€æŸ¥æ‰€æœ‰å­—ç¬¦æ˜¯å¦ç¬¦åˆè¦æ±?      for (let i = 0; i < username.length; i++) {
        const char = username[i];
        const isLetter = (char >= 'a' && char <= 'z') || (char >= 'A' && char <= 'Z');
        const isDigit = (char >= '0' && char <= '9');
        const isUnderscore = char === '_';
        const isHyphen = allowHyphen && char === '-';
        
        if (!(isLetter || isDigit || isUnderscore || isHyphen)) {
          return false;
        }
      }
      
      return true;
    } catch (error) {
      this.Logger.error('Failed to validate username', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯èº«ä»½è¯å·ï¼ˆæ”¯æŒä¸­å›½å¤§é™†ï¼‰
   * @param idNumber èº«ä»½è¯å·
   */
  public isValidIdCard(idNumber: string): boolean {
    try {
      if (!idNumber || typeof idNumber !== 'string') {
        return false;
      }

      // ç®€å•çš„18ä½èº«ä»½è¯å·æ ¼å¼éªŒè¯?      const idCardRegex = /^[1-9]\d{5}(19|20)\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}[0-9Xx]$/;
      if (!idCardRegex.test(idNumber)) {
        return false;
      }

      // è¿™é‡Œå¯ä»¥æ·»åŠ æ›´å¤æ‚çš„æ ¡éªŒç éªŒè¯é€»è¾‘
      return true;
    } catch (error) {
      this.logger.error('Failed to validate ID card number', error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error)))))));
      return false;
    }
  }

  /**
   * éªŒè¯æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ
   * @param date æ—¥æœŸ
   */
  public isValidDate(date: Record<string, string | number | boolean | null>): boolean {
    try {
      const d = new Date(date);
      return !isNaN(d.getTime());
    } catch (error) {
      this.Logger.error('Failed to validate date', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯æ˜¯å¦ä¸ºç©ºå€?   * @param value å€?   */
  public isEmpty(value: Record<string, string | number | boolean | null> instanceof Error ? string | number | boolean | null> : new Error(String(string | number | boolean | null>))): boolean {
    if (value === null || value === undefined) {
      return true;
    }

    if (typeof value === 'string') {
      return value.trim().length === 0;
    }

    if (Array.isArray(value)) {
      return value.length === 0;
    }

    if (typeof value === 'object') {
      return this.getObjectKeys(value).length === 0;
    }

    return false;
  }

  /**
   * éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆçš„JSONå­—ç¬¦ä¸?   * @param str å­—ç¬¦ä¸?   */
  public isValidJSON(str: string): boolean {
    try {
      if (typeof str !== 'string') {
        return false;
      }

      JSON.parse(str);
      return true;
    } catch (error) {
      return false;
    }
  }

  /**
   * éªŒè¯æ–‡ä»¶æ‰©å±•å?   * @param fileName æ–‡ä»¶å?   * @param allowedExtensions å…è®¸çš„æ‰©å±•ååˆ—è¡¨
   */
  public isValidFileExtension(fileName: string, allowedExtensions: string[] instanceof Error ? allowedExtensions: string[] : new Error(String(allowedExtensions: string[] instanceof Error ? allowedExtensions: string[] instanceof Error ? allowedExtensions: string[] : new Error(String(allowedExtensions: string[] : new Error(String(allowedExtensions: string[] instanceof Error ? allowedExtensions: string[] : new Error(String(allowedExtensions: string[]))))): boolean {
    try {
      if (!fileName || typeof fileName !== 'string') {
        return false;
      }

      const extension = fileName.split('.').pop()?.toLowerCase();
      if (!extension) {
        return false;
      }

      const normalizedExtensions = allowedExtensions.map(ext => ext.toLowerCase().replace(/^\./, ''));
      return normalizedExtensions.includes(extension);
    } catch (error) {
      this.Logger.error('Failed to validate file extension', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯æ–‡ä»¶å¤§å°
   * @param size æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
   * @param maxSize æœ€å¤§å¤§å°ï¼ˆå­—èŠ‚ï¼?   */
  public isValidFileSize(size: number, maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number : new Error(String(maxSize: number instanceof Error ? maxSize: number : new Error(String(maxSize: number))))))): boolean {
    try {
      if (typeof size !== 'number' || typeof maxSize !== 'number') {
        return false;
      }

      return size <= maxSize && size >= 0;
    } catch (error) {
      this.Logger.error('Failed to validate file size', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ—¶é—´æˆ?   * @param timestamp æ—¶é—´æˆ?   */
  public isValidTimestamp(timestamp: number): boolean {
    try {
      if (typeof timestamp !== 'number') {
        return false;
      }

      return timestamp >= 0 && Number.isFinite(timestamp) && new Date(timestamp).getTime() === timestamp;
    } catch (error) {
      this.logger.error('Failed to validate timestamp', error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error)))))));
      return false;
    }
  }

  /**
   * éªŒè¯é¢œè‰²æ ¼å¼ï¼ˆæ”¯æŒhexã€rgbã€rgbaï¼?   * @param color é¢œè‰²å€?   */
  public isValidColor(color: string): boolean {
    try {
      if (!color || typeof color !== 'string') {
        return false;
      }

      // æ£€æŸ¥hexæ ¼å¼
      const hexRegex = /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}|[A-Fa-f0-9]{8})$/;
      if (hexRegex.test(color)) {
        return true;
      }

      // æ£€æŸ¥rgbæ ¼å¼
      const rgbRegex = /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/;
      if (rgbRegex.test(color)) {
        return true;
      }

      // æ£€æŸ¥rgbaæ ¼å¼
      const rgbaRegex = /^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*([01]\.?\d*)\)$/;
      if (rgbaRegex.test(color)) {
        return true;
      }

      return false;
    } catch (error) {
      this.Logger.error('Failed to validate color', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯MACåœ°å€
   * @param mac MACåœ°å€
   */
  public isValidMacAddress(mac: string): boolean {
    try {
      if (!mac || typeof mac !== 'string') {
        return false;
      }

      const macRegex = /^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/;
      return macRegex.test(mac);
    } catch (error) {
      this.logger.error('Failed to validate MAC address', error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error)))))));
      return false;
    }
  }

  /**
   * éªŒè¯è½¦ç‰Œå·ï¼ˆä¸­å›½ï¼?   * @param plateNumber è½¦ç‰Œå?   */
  public isValidPlateNumber(plateNumber: string): boolean {
    try {
      if (!plateNumber || typeof plateNumber !== 'string') {
        return false;
      }

      // ç®€å•çš„ä¸­å›½è½¦ç‰Œå·æ ¼å¼éªŒè¯?      const plateRegex = /^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]{1}$/;
      return plateRegex.test(plateNumber);
    } catch (error) {
      this.Logger.error('Failed to validate plate number', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯é‚®æ”¿ç¼–ç ï¼ˆä¸­å›½ï¼‰
   * @param postalCode é‚®æ”¿ç¼–ç 
   */
  public isValidPostalCode(postalCode: string): boolean {
    try {
      if (!postalCode || typeof postalCode !== 'string') {
        return false;
      }

      const postalRegex = /^[1-9]\d{5}$/;
      return postalRegex.test(postalCode);
    } catch (error) {
      this.logger.error('Failed to validate postal code', error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error)))))));
      return false;
    }
  }

  /**
   * éªŒè¯é“¶è¡Œå¡å·
   * @param cardNumber é“¶è¡Œå¡å·
   */
  public isValidBankCard(cardNumber: string): boolean {
    try {
      if (!cardNumber || typeof cardNumber !== 'string') {
        return false;
      }

      // ç§»é™¤ç©ºæ ¼å’Œè¿å­—ç¬¦
      const cleanedNumber = cardNumber.replace(/[\s-]/g, '');

      // æ£€æŸ¥æ˜¯å¦ä¸ºçº¯æ•°å­—ä¸”é•¿åº¦åœ?3-19ä½ä¹‹é—?      const bankCardRegex = /^\d{13,19}$/;
      if (!bankCardRegex.test(cleanedNumber)) {
        return false;
      }

      // Luhnç®—æ³•éªŒè¯
      return this.luhnCheck(cleanedNumber);
    } catch (error) {
      this.Logger.error('Failed to validate bank card number', error as Error);
      return false;
    }
  }

  /**
   * Luhnç®—æ³•éªŒè¯å‡½æ•°
   * @param number æ•°å­—å­—ç¬¦ä¸?   */
  private luhnCheck(number: string): boolean {
    let sum = 0;
    let isEven = false;

    for (let i = number.length - 1; i >= 0; i--) {
      let digit = parseInt(number.charAt(i), 10 instanceof Error ? 10 : new Error(String(10 instanceof Error ? 10 instanceof Error ? 10 : new Error(String(10 : new Error(String(10 instanceof Error ? 10 : new Error(String(10 instanceof Error ? 10 instanceof Error ? 10 : new Error(String(10 instanceof Error ? 10 instanceof Error ? 10 : new Error(String(10 : new Error(String(10 instanceof Error ? 10 : new Error(String(10 : new Error(String(10 instanceof Error ? 10 : new Error(String(10 instanceof Error ? 10 instanceof Error ? 10 : new Error(String(10 : new Error(String(10 instanceof Error ? 10 : new Error(String(10)))))));

      if (isEven) {
        digit *= 2;
        if (digit > 9) {
          digit -= 9;
        }
      }

      sum += digit;
      isEven = !isEven;
    }

    return sum % 10 === 0;
  }

  /**
   * éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆå¯¹è±?   * @param obj å¯¹è±¡
   */
  public isValidObject(obj: Record<string, string | number | boolean | null>): boolean {
    try {
      return obj !== null && typeof obj === 'object' && !Array.isArray(obj);
    } catch (error) {
      this.Logger.error('Failed to validate object', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆæ•°ç»?   * @param arr æ•°ç»„
   * @param options éªŒè¯é€‰é¡¹
   */
  public isValidArray(arr: Record<string, string | number | boolean | null>, options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} instanceof Error ? string | number | boolean | null>, options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} : new Error(String(string | number | boolean | null>, options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {} instanceof Error ? options: { minLength?: number; maxLength?: number } = {} : new Error(String(options: { minLength?: number; maxLength?: number } = {}))))))): boolean {
    try {
      if (!Array.isArray(arr)) {
        return false;
      }

      const minLength = options.minLength ?? 0;
      const maxLength = options.maxLength ?? Infinity;
      return arr.length >= minLength && arr.length <= maxLength;
    } catch (error) {
      this.Logger.error('Failed to validate array', error as Error);
      return false;
    }
  }

  /**
   * éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆå‡½æ•?   * @param fn å‡½æ•°
   */
  public isValidFunction(fn: Record<string, string | number | boolean | null> instanceof Error ? string | number | boolean | null> : new Error(String(string | number | boolean | null>))): boolean {
    try {
      return typeof fn === 'function';
    } catch (error) {
      this.Logger.error('Failed to validate function', error as Error instanceof Error ? error as Error : new Error(String(error as Error instanceof Error ? error as Error instanceof Error ? error as Error : new Error(String(error as Error : new Error(String(error as Error instanceof Error ? error as Error : new Error(String(error as Error)))));
      return false;
    }
  }

  /**
   * éªŒè¯URLå‚æ•°æ˜¯å¦æœ‰æ•ˆ
   * @param params URLå‚æ•°å¯¹è±¡
   */
  public isValidUrlParams(params: Record<string, unknown> instanceof Error ? unknown> : new Error(String(unknown>))): boolean {
    try {
      if (!this.isValidObject(params)) {
        return false;
      }

      // æ£€æŸ¥å‚æ•°å€¼æ˜¯å¦æœ‰æ•?      for (const value of this.getObjectValues(params)) {
        if (value === undefined || typeof value === 'function' || this.isValidObject(value) || Array.isArray(value)) {
          return false;
        }
      }

      return true;
    } catch (error) {
      this.Logger.error('Failed to validate URL params', error as Error);
      return false;
    }
  }

  /**
   * ç»¼åˆéªŒè¯å¯¹è±¡
   * @param obj è¦éªŒè¯çš„å¯¹è±¡
   * @param schema éªŒè¯æ¨¡å¼
   */
  public validateObject(obj: Record<string, string | number | boolean | null>, schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? string | number | boolean | null>, schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(string | number | boolean | null>, schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null> instanceof Error ? schema: Record<string, (value: Record<string, string | number | boolean | null> : new Error(String(schema: Record<string, (value: Record<string, string | number | boolean | null>))))))) => boolean>): { isValid: boolean; errors: string[] } {
    try {
      if (!this.isValidObject(obj)) {
        return { isValid: false, errors: ['Invalid object'] };
      }

      const errors: string[] = [];

      for (const [key, validator] of Object.entries(schema)) {
        if (!validator(obj[key])) {
          errors.push(`Invalid value for field: ${key}`);
        }
      }

      return { isValid: errors.length === 0, errors };
    } catch (error) {
      this.Logger.error('Failed to validate object', error as Error);
      return { isValid: false, errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> instanceof Error ? errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null> : new Error(String(errors: ['Validation error'] };
    }
  }

  /**
   * éªŒè¯ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ·±åº¦æ¯”è¾ƒï¼?   * @param value1 å€?
   * @param value2 å€?
   */
  public isEqual(value1: Record<string, string | number | boolean | null>, value2: Record<string, string | number | boolean | null>))))))): boolean {
    try {
      // å¤„ç†åŸºæœ¬ç±»å‹å’Œnull/undefined
      if (value1 === value2) {
        return true;
      }

      // å¤„ç†å¯¹è±¡ç±»å‹
      if (this.isValidObject(value1) && this.isValidObject(value2)) {
        const keys1 = this.getObjectKeys(value1);
         const keys2 = this.getObjectKeys(value2);

        if (keys1.length !== keys2.length) {
          return false;
        }

        for (const key of keys1) {
          if (!keys2.includes(key) || !this.isEqual(value1[key], value2[key])) {
            return false;
          }
        }

        return true;
      }

      // å¤„ç†æ•°ç»„ç±»å‹
      if (Array.isArray(value1) && Array.isArray(value2)) {
        if (value1.length !== value2.length) {
          return false;
        }

        for (let i = 0; i < value1.length; i++) {
          if (!this.isEqual(value1[i], value2[i])) {
            return false;
          }
        }

        return true;
      }

      return false;
    } catch (error) {
      this.logger.error('Failed to compare values', error as Error);
      return false;
    }
  }
}

// å¯¼å‡ºé»˜è®¤å®ä¾‹
export default ValidatorUtil.getInstance();


