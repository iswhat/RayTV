// Vod.ets - ç‚¹æ’­å†…å®¹æ•°æ®æ¨¡å‹
// å®šä¹‰ç‚¹æ’­å†…å®¹çš„åŸºæœ¬ä¿¡æ¯å’Œç»“æ„

/**
 * å‰§é›†ä¿¡æ¯æ¥å£
 */
export interface Episode {
  id: string;          // å‰§é›†ID
  name: string;        // å‰§é›†åç§°
  url: string;         // å‰§é›†æ’­æ”¾URL
  source?: string;     // æ¥æºæ ‡è¯†
  isNew?: boolean;     // æ˜¯å¦æ–°å‰§é›?  isPlayed?: boolean;  // æ˜¯å¦å·²æ’­æ”?  progress?: number;   // æ’­æ”¾è¿›åº¦ï¼ˆç™¾åˆ†æ¯”ï¼?  duration?: number;   // æ€»æ—¶é•¿ï¼ˆæ¯«ç§’ï¼?}

/**
 * æ¼”å‘˜ä¿¡æ¯æ¥å£
 */
export interface Actor {
  id: string;          // æ¼”å‘˜ID
  name: string;        // æ¼”å‘˜åç§°
  avatar?: string;     // æ¼”å‘˜å¤´åƒURL
  role?: string;       // æ‰®æ¼”è§’è‰²
}

/**
 * å¯¼æ¼”ä¿¡æ¯æ¥å£
 */
export interface Director {
  id: string;          // å¯¼æ¼”ID
  name: string;        // å¯¼æ¼”åç§°
  avatar?: string;     // å¯¼æ¼”å¤´åƒURL
}

/**
 * æ¨èç†ç”±æ¥å£
 */
export interface RecommendReason {
  type: string;        // æ¨èç±»å‹
  content: string;     // æ¨èå†…å®¹
  priority?: number;   // ä¼˜å…ˆçº?}

/**
 * ç‚¹æ’­å†…å®¹æ•°æ®æ¨¡å‹
 */
export interface Vod {
  id: string;                   // å†…å®¹å”¯ä¸€ID
  name: string;                 // å†…å®¹åç§°
  type: string;                 // ç±»å‹ï¼ˆç”µå½±ã€ç”µè§†å‰§ç­‰ï¼‰
  area: string;                 // åœ°åŒº
  lang: string;                 // è¯­è¨€
  year: string;                 // å¹´ä»½
  score: string;                // è¯„åˆ†
  status: string;               // çŠ¶æ€ï¼ˆè¿è½½ä¸­ã€å·²å®Œç»“ï¼?  desc: string;                 // ç®€ä»?  cover: string;                // å°é¢å›¾URL
  tag: string;                  // æ ‡ç­¾
  url: string;                  // å†…å®¹è¯¦æƒ…é¡µURL
  sourceKey: string;            // æ•°æ®æºæ ‡è¯?  episodeList?: Episode[];      // å‰§é›†åˆ—è¡¨
  selectedEpisode?: number;     // å½“å‰é€‰ä¸­å‰§é›†
  createdAt: number;            // åˆ›å»ºæ—¶é—´
  updatedAt: number;            // æ›´æ–°æ—¶é—´
  actors?: Actor[];             // æ¼”å‘˜åˆ—è¡¨
  directors?: Director[];       // å¯¼æ¼”åˆ—è¡¨
  recommendReasons?: RecommendReason[]; // æ¨èç†ç”±
  isVip?: boolean;              // æ˜¯å¦VIPå†…å®¹
  isPay?: boolean;              // æ˜¯å¦ä»˜è´¹å†…å®¹
  originalPrice?: number;       // åŸä»·
  currentPrice?: number;        // å½“å‰ä»·æ ¼
  isCollect?: boolean;          // æ˜¯å¦å·²æ”¶è—?  playCount?: number;           // æ’­æ”¾æ¬¡æ•°
  collectCount?: number;        // æ”¶è—æ¬¡æ•°
  commentCount?: number;        // è¯„è®ºæ¬¡æ•°
  sourceList?: Map<string, Episode[]>; // å¤šæ¥æºå‰§é›†åˆ—è¡?  subTitleList?: string[];      // å­—å¹•åˆ—è¡¨
  videoQualityList?: string[];  // ç”»è´¨é€‰é¡¹
  isHdr?: boolean;              // æ˜¯å¦æ”¯æŒHDR
  isDolby?: boolean;            // æ˜¯å¦æ”¯æŒæœæ¯”éŸ³æ•ˆ
  is3D?: boolean;               // æ˜¯å¦3Då†…å®¹
  imdbId?: string;              // IMDB ID
  doubanId?: string;            // è±†ç“£ID
  tmdbId?: string;              // TMDB ID
  backdrop?: string;            // èƒŒæ™¯å›¾URL
  previewVideo?: string;        // é¢„å‘Šç‰‡URL
  relatedVods?: string[];       // ç›¸å…³å†…å®¹IDåˆ—è¡¨
  userRating?: number;          // ç”¨æˆ·è¯„åˆ†
  categoryIds?: string[];       // åˆ†ç±»IDåˆ—è¡¨
  seasonInfo?: SeasonInfo;            // å­£æ•°ä¿¡æ¯
  episodeInfo?: EpisodeInfo;          // é›†æ•°ä¿¡æ¯
  playHistory?: PlayHistory;          // æ’­æ”¾å†å²ä¿¡æ¯
}

/**
 * ç‚¹æ’­å†…å®¹æœç´¢ç»“æœæ¥å£
 */
export interface VodSearchResult {
  vods: Vod[];                  // æœç´¢åˆ°çš„å†…å®¹åˆ—è¡¨
  total: number;                // æ€»æ•°
  page: number;                 // å½“å‰é¡µç 
  pageSize: number;             // æ¯é¡µæ•°é‡
  hasMore: boolean;             // æ˜¯å¦æœ‰æ›´å¤?  keyword?: string;             // æœç´¢å…³é”®è¯?  category?: string;            // åˆ†ç±»ç­›é€?  area?: string;                // åœ°åŒºç­›é€?  year?: string;                // å¹´ä»½ç­›é€?  sortBy?: string;              // æ’åºæ–¹å¼
}

/**
 * ç‚¹æ’­å†…å®¹æ¨èæ¥å£
 */
export interface VodRecommendation {
  id: string;                   // æ¨èID
  title: string;                // æ¨èæ ‡é¢˜
  subtitle?: string;            // æ¨èå‰¯æ ‡é¢?  vods: Vod[];                  // æ¨èå†…å®¹åˆ—è¡¨
  type: string;                 // æ¨èç±»å‹
  refreshInterval?: number;     // åˆ·æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  coverImage?: string;          // å°é¢å›?  priority: number;             // ä¼˜å…ˆçº?  createdAt: number;            // åˆ›å»ºæ—¶é—´
  updatedAt: number;            // æ›´æ–°æ—¶é—´
}

/**
 * å†…å®¹æ ‡ç­¾æ¥å£
 */
export interface ContentTag {
  id: string;                   // æ ‡ç­¾ID
  name: string;                 // æ ‡ç­¾åç§°
  count?: number;               // ä½¿ç”¨æ¬¡æ•°
  category?: string;            // æ ‡ç­¾åˆ†ç±»
}

/**
 * å†…å®¹ç­›é€‰æ¡ä»¶æ¥å? */
export interface VodFilter {
  category?: string;            // åˆ†ç±»
  area?: string;                // åœ°åŒº
  year?: string;                // å¹´ä»½
  status?: string;              // çŠ¶æ€?  tag?: string;                 // æ ‡ç­¾
  sortBy?: string;              // æ’åºæ–¹å¼
  keyword?: string;             // å…³é”®è¯?  page?: number;                // é¡µç 
  pageSize?: number;            // æ¯é¡µæ•°é‡
  sourceKey?: string;           // æ•°æ®æº?  isVip?: boolean;              // æ˜¯å¦VIP
}

/**
 * å†…å®¹è¯¦æƒ…è¯·æ±‚å‚æ•°æ¥å£
 */
export interface VodDetailRequest {
  id: string;                   // å†…å®¹ID
  sourceKey: string;            // æ•°æ®æºæ ‡è¯?  includeEpisodes?: boolean;    // æ˜¯å¦åŒ…å«å‰§é›†åˆ—è¡¨
  includeRelated?: boolean;     // æ˜¯å¦åŒ…å«ç›¸å…³å†…å®¹
  includeComments?: boolean;    // æ˜¯å¦åŒ…å«è¯„è®º
  commentPage?: number;         // è¯„è®ºé¡µç 
  commentPageSize?: number;     // è¯„è®ºæ¯é¡µæ•°é‡
}

/**
 * å†…å®¹è¯¦æƒ…å“åº”æ¥å£
 */
export interface VodDetailResponse {
  vod: Vod;                     // å†…å®¹è¯¦æƒ…
  relatedVods?: Vod[];          // ç›¸å…³å†…å®¹
  comments?: {
    items: Comment[];           // è¯„è®ºåˆ—è¡¨
    total: number;              // è¯„è®ºæ€»æ•°
    page: number;               // å½“å‰é¡µç 
    pageSize: number;           // æ¯é¡µæ•°é‡
    hasMore: boolean;           // æ˜¯å¦æœ‰æ›´å¤šè¯„è®?  };
  refreshTime: number;          // åˆ·æ–°æ—¶é—´
}

/**
 * è¯„è®ºæ¥å£
 */
export interface Comment {
  id: string;                   // è¯„è®ºID
  userId: string;               // ç”¨æˆ·ID
  userName: string;             // ç”¨æˆ·åç§°
  userAvatar?: string;          // ç”¨æˆ·å¤´åƒ
  content: string;              // è¯„è®ºå†…å®¹
  rating?: number;              // è¯„åˆ†
  likes: number;                // ç‚¹èµæ•?  replies?: Comment[];          // å›å¤åˆ—è¡¨
  createdAt: number;            // åˆ›å»ºæ—¶é—´
  updatedAt: number;            // æ›´æ–°æ—¶é—´
  isLiked?: boolean;            // å½“å‰ç”¨æˆ·æ˜¯å¦ç‚¹èµ
}

/**
 * å­£æ•°ä¿¡æ¯æ¥å£
 */
export interface SeasonInfo {
  current: number;            // å½“å‰å­£æ•°
  total: number;              // æ€»å­£æ•?}

/**
 * é›†æ•°ä¿¡æ¯æ¥å£
 */
export interface EpisodeInfo {
  total: number;              // æ€»é›†æ•?  watched: number;            // å·²çœ‹é›†æ•°
}

/**
 * æ’­æ”¾å†å²ä¿¡æ¯æ¥å£
 */
export interface PlayHistory {
  episodeIndex: number;       // ä¸Šæ¬¡è§‚çœ‹å‰§é›†ç´¢å¼•
  position: number;           // ä¸Šæ¬¡è§‚çœ‹ä½ç½®
  lastPlayTime: number;       // ä¸Šæ¬¡è§‚çœ‹æ—¶é—´
}
