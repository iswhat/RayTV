// ConfigModel - é…ç½®ç›¸å…³æ¨¡å‹å®šä¹‰
// å®šä¹‰åº”ç”¨é…ç½®ã€ç”¨æˆ·è®¾ç½®ç­‰ç›¸å…³çš„æ•°æ®æ¨¡å?
/**
 * é…ç½®ç±»å‹æšä¸¾
 */
export enum ConfigType {
  /**
   * åº”ç”¨é…ç½®
   */
  APP = 'app',
  
  /**
   * ç”¨æˆ·é…ç½®
   */
  USER = 'user',
  
  /**
   * æ’­æ”¾å™¨é…ç½?   */
  PLAYER = 'player',
  
  /**
   * ç½‘ç»œé…ç½®
   */
  NETWORK = 'network',
  
  /**
   * ä¸‹è½½é…ç½®
   */
  DOWNLOAD = 'download',
  
  /**
   * å­—å¹•é…ç½®
   */
  SUBTITLE = 'subtitle',
  
  /**
   * ç›´æ’­é…ç½®
   */
  LIVE = 'live',
  
  /**
   * ç•Œé¢é…ç½®
   */
  UI = 'ui',
  
  /**
   * é«˜çº§é…ç½®
   */
  ADVANCED = 'advanced',
  
  /**
   * å¼€å‘é…ç½?   */
  DEV = 'dev'
}

/**
 * é…ç½®é¡¹æ¥å? */
export interface ConfigItem {
  /**
   * é…ç½®é”®å
   */
  key: string;
  
  /**
   * é…ç½®å€?   */
  value: Record<string, string | number | boolean | null>;
  
  /**
   * é…ç½®ç±»å‹
   */
  type: ConfigType;
  
  /**
   * é…ç½®æè¿°
   */
  description?: string;
  
  /**
   * é»˜è®¤å€?   */
  defaultValue: Record<string, string | number | boolean | null>;
  
  /**
   * æ•°æ®ç±»å‹
   */
  dataType: 'string' | 'number' | 'boolean' | 'object' | 'array';
  
  /**
   * æ˜¯å¦å¯ç¼–è¾?   */
  editable: boolean;
  
  /**
   * æ˜¯å¦åŠ å¯†å­˜å‚¨
   */
  encrypted: boolean;
  
  /**
   * æœ€åæ›´æ–°æ—¶é—?   */
  lastUpdatedAt: number;
  
  /**
   * åˆ›å»ºæ—¶é—´
   */
  createdAt?: number;
  
  /**
   * ç‰ˆæœ¬å?   */
  version?: string;
  
  /**
   * æ˜¯å¦éœ€è¦é‡å¯åº”ç”¨ç”Ÿæ•?   */
  requiresRestart: boolean;
}

/**
 * é…ç½®åˆ†ç»„æ¥å£
 */
export interface ConfigGroup {
  /**
   * åˆ†ç»„åç§°
   */
  name: string;
  
  /**
   * åˆ†ç»„ç±»å‹
   */
  type: ConfigType;
  
  /**
   * åˆ†ç»„æè¿°
   */
  description?: string;
  
  /**
   * é…ç½®é¡¹åˆ—è¡?   */
  items: ConfigItem[];
  
  /**
   * æ˜¯å¦å¯æŠ˜å?   */
  collapsible: boolean;
  
  /**
   * ä¼˜å…ˆçº?   */
  priority: number;
  
  /**
   * æ˜¯å¦éšè—
   */
  hidden: boolean;
}

/**
 * é…ç½®å…ƒæ•°æ®æ¥å? */
export interface ConfigMetadata {
  /**
   * é…ç½®ç‰ˆæœ¬
   */
  version: string;
  
  /**
   * æœ€ååŒæ­¥æ—¶é—?   */
  lastSyncTime: number;
  
  /**
   * åˆ›å»ºæ—¶é—´
   */
  createdAt: number;
  
  /**
   * æœ€åæ›´æ–°æ—¶é—?   */
  updatedAt: number;
  
  /**
   * æ˜¯å¦è‡ªåŠ¨å¤‡ä»½
   */
  autoBackupEnabled: boolean;
  
  /**
   * å¤‡ä»½é¢‘ç‡ï¼ˆå¤©ï¼?   */
  backupFrequencyDays: number;
  
  /**
   * é…ç½®æ¥æº
   */
  source: 'default' | 'user' | 'import' | 'cloud' | 'preset';
}

/**
 * åº”ç”¨é…ç½®æ¥å£
 */
export interface AppConfig {
  /**
   * æ˜¯å¦é¦–æ¬¡å¯åŠ¨
   */
  isFirstLaunch: boolean;
  
  /**
   * å½“å‰è¯­è¨€
   */
  language: string;
  
  /**
   * ä¸»é¢˜æ¨¡å¼
   */
  themeMode: 'light' | 'dark' | 'auto';
  
  /**
   * æ˜¯å¦å¯ç”¨é€šçŸ¥
   */
  notificationsEnabled: boolean;
  
  /**
   * æ˜¯å¦å¯ç”¨æ•°æ®æ”¶é›†
   */
  dataCollectionEnabled: boolean;
  
  /**
   * å¯åŠ¨æ—¶æ¢å¤ä¸Šæ¬¡æ’­æ”?   */
  resumePlaybackOnStart: boolean;
  
  /**
   * è‡ªåŠ¨æ£€æŸ¥æ›´æ–?   */
  autoCheckUpdates: boolean;
  
  /**
   * åº”ç”¨ç‰ˆæœ¬
   */
  appVersion: string;
  
  /**
   * æ„å»ºç‰ˆæœ¬
   */
  buildVersion: string;
}

/**
 * æ’­æ”¾å™¨é…ç½®æ¥å? */
export interface PlayerConfig {
  /**
   * é»˜è®¤æ’­æ”¾å¼•æ“
   */
  defaultEngine: 'system' | 'exo' | 'custom';
  
  /**
   * ç¡¬ä»¶åŠ é€?   */
  hardwareAcceleration: boolean;
  
  /**
   * é»˜è®¤éŸ³é‡
   */
  defaultVolume: number;
  
  /**
   * é»˜è®¤äº®åº¦
   */
  defaultBrightness: number;
  
  /**
   * è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é›?   */
  autoPlayNextEpisode: boolean;
  
  /**
   * æ’­æ”¾é€Ÿåº¦
   */
  playbackSpeed: number;
  
  /**
   * è§†é¢‘æ¯”ä¾‹
   */
  aspectRatio: 'original' | 'fit' | 'fill' | '16:9' | '4:3';
  
  /**
   * å­—å¹•è‡ªåŠ¨åŠ è½½
   */
  autoLoadSubtitles: boolean;
  
  /**
   * éŸ³é¢‘å»¶è¿Ÿè°ƒæ•´ï¼ˆæ¯«ç§’ï¼‰
   */
  audioDelay: number;
  
  /**
   * å­—å¹•å»¶è¿Ÿè°ƒæ•´ï¼ˆæ¯«ç§’ï¼‰
   */
  subtitleDelay: number;
  
  /**
   * é¢„åŠ è½½æ—¶é—´ï¼ˆç§’ï¼‰
   */
  preloadTime: number;
}

/**
 * ç½‘ç»œé…ç½®æ¥å£
 */
export interface NetworkConfig {
  /**
   * è¶…æ—¶è®¾ç½®ï¼ˆæ¯«ç§’ï¼‰
   */
  timeout: number;
  
  /**
   * é‡è¯•æ¬¡æ•°
   */
  retryCount: number;
  
  /**
   * ä»£ç†è®¾ç½®
   */
  proxySettings: ProxyConfig;
  
  /**
   * ç¼“å­˜å¤§å°ï¼ˆMBï¼?   */
  cacheSize: number;
  
  /**
   * æœ€å¤§å¹¶å‘è¿æ¥æ•°
   */
  maxConcurrentConnections: number;
  
  /**
   * å¯ç”¨HTTP/2
   */
  enableHttp2: boolean;
  
  /**
   * å¯ç”¨DNSç¼“å­˜
   */
  enableDnsCache: boolean;
  
  /**
   * DNSæœåŠ¡å™¨åœ°å€
   */
  dnsServer?: string;
  
  /**
   * è‡ªå®šä¹‰User-Agent
   */
  customUserAgent?: string;
}

/**
 * ä»£ç†é…ç½®æ¥å£
 */
export interface ProxyConfig {
  /**
   * æ˜¯å¦å¯ç”¨ä»£ç†
   */
  enabled: boolean;
  
  /**
   * ä»£ç†ç±»å‹
   */
  type: 'http' | 'https' | 'socks5' | 'none';
  
  /**
   * ä»£ç†æœåŠ¡å™¨åœ°å€
   */
  host?: string;
  
  /**
   * ä»£ç†ç«¯å£
   */
  port?: number;
  
  /**
   * éœ€è¦è®¤è¯?   */
  requiresAuth: boolean;
  
  /**
   * ç”¨æˆ·å?   */
  username?: string;
  
  /**
   * å¯†ç 
   */
  password?: string;
  
  /**
   * ä¸ä½¿ç”¨ä»£ç†çš„ä¸»æœºåˆ—è¡¨
   */
  bypassList?: string[];
}

/**
 * ä¸‹è½½é…ç½®æ¥å£
 */
export interface DownloadConfig {
  /**
   * ä¸‹è½½ç›®å½•
   */
  downloadDir: string;
  
  /**
   * æœ€å¤§å¹¶å‘ä¸‹è½½æ•°
   */
  maxConcurrentDownloads: number;
  
  /**
   * æœ€å¤§ä¸‹è½½é€Ÿåº¦ï¼ˆKB/sï¼?è¡¨ç¤ºä¸é™ï¼?   */
  maxDownloadSpeed: number;
  
  /**
   * æ˜¯å¦å…è®¸ç§»åŠ¨ç½‘ç»œä¸‹è½½
   */
  allowMobileDownload: boolean;
  
  /**
   * ä¸‹è½½å‰ç¡®è®?   */
  confirmBeforeDownload: boolean;
  
  /**
   * ä¸‹è½½å®Œæˆåé€šçŸ¥
   */
  notifyOnCompletion: boolean;
  
  /**
   * æ˜¯å¦è‡ªåŠ¨ç®¡ç†å­˜å‚¨ç©ºé—´
   */
  autoManageStorage: boolean;
  
  /**
   * æœ€å¤§å­˜å‚¨ç©ºé—´ï¼ˆGBï¼?   */
  maxStorageSize: number;
  
  /**
   * æ¸…ç†ç­–ç•¥
   */
  cleanupStrategy: 'oldest_first' | 'largest_first' | 'never';
}

/**
 * å­—å¹•é…ç½®æ¥å£
 */
export interface SubtitleConfig {
  /**
   * é»˜è®¤å­—å¹•è¯­è¨€
   */
  defaultLanguage: string;
  
  /**
   * å­—å¹•æ ·å¼
   */
  style: SubtitleStyle;
  
  /**
   * å­—å¹•ç¼–ç 
   */
  encoding: string;
  
  /**
   * å­—å¹•å»¶è¿Ÿè°ƒæ•´ï¼ˆæ¯«ç§’ï¼‰
   */
  delay: number;
  
  /**
   * è‡ªåŠ¨åŠ è½½å­—å¹•
   */
  autoLoad: boolean;
  
  /**
   * å­—å¹•å­—ä½“
   */
  fontFamily: string;
  
  /**
   * å­—å¹•ç›®å½•
   */
  subtitleDir: string;
  
  /**
   * å­—å¹•æ‰©å±•åæ˜ å°?   */
  extensionMapping?: Record<string, string>;
}

/**
 * å­—å¹•æ ·å¼æ¥å£
 */
export interface SubtitleStyle {
  /**
   * å­—ä½“å¤§å°
   */
  fontSize: number;
  
  /**
   * å­—ä½“é¢œè‰²
   */
  fontColor: string;
  
  /**
   * èƒŒæ™¯é¢œè‰²
   */
  backgroundColor: string;
  
  /**
   * æ–‡å­—æè¾¹é¢œè‰²
   */
  strokeColor: string;
  
  /**
   * æ–‡å­—æè¾¹å®½åº¦
   */
  strokeWidth: number;
  
  /**
   * é€æ˜åº?   */
  opacity: number;
  
  /**
   * æ–‡å­—é˜´å½±
   */
  shadow: boolean;
  
  /**
   * ä½ç½®
   */
  position: 'top' | 'bottom' | 'center';
  
  /**
   * å¯¹é½æ–¹å¼
   */
  alignment: 'left' | 'center' | 'right';
}

/**
 * ç•Œé¢é…ç½®æ¥å£
 */
export interface UiConfig {
  /**
   * ä¸»é¢˜é¢œè‰²
   */
  themeColor: string;
  
  /**
   * å¼ºè°ƒé¢œè‰²
   */
  accentColor: string;
  
  /**
   * å­—ä½“å¤§å°
   */
  fontSize: 'small' | 'medium' | 'large';
  
  /**
   * ç•Œé¢ç¼©æ”¾
   */
  uiScale: number;
  
  /**
   * åŠ¨ç”»æ•ˆæœ
   */
  animationsEnabled: boolean;
  
  /**
   * è¿‡æ¸¡åŠ¨ç”»æ—¶é•¿
   */
  transitionDuration: number;
  
  /**
   * æ˜¯å¦æ˜¾ç¤ºç¼©ç•¥å›?   */
  showThumbnails: boolean;
  
  /**
   * ç¼©ç•¥å›¾è´¨é‡?   */
  thumbnailQuality: 'low' | 'medium' | 'high';
  
  /**
   * é¦–é¡µå¸ƒå±€
   */
  homeLayout: 'grid' | 'list' | 'mixed';
  
  /**
   * å†…å®¹ç½‘æ ¼åˆ—æ•°
   */
  gridColumns: number;
}

/**
 * é«˜çº§é…ç½®æ¥å£
 */
export interface AdvancedConfig {
  /**
   * å¯ç”¨æ—¥å¿—
   */
  enableLogging: boolean;
  
  /**
   * æ—¥å¿—çº§åˆ«
   */
  logLevel: 'debug' | 'info' | 'warn' | 'error';
  
  /**
   * å¯ç”¨è°ƒè¯•æ¨¡å¼
   */
  debugMode: boolean;
  
  /**
   * å¯ç”¨æ€§èƒ½ç›‘æ§
   */
  performanceMonitoring: boolean;
  
  /**
   * è‡ªå®šä¹‰æ¸²æŸ“å™¨
   */
  customRendererEnabled: boolean;
  
  /**
   * æ¸²æŸ“å™¨è·¯å¾?   */
  rendererPath?: string;
  
  /**
   * åå°ç¼“å­˜
   */
  backgroundCaching: boolean;
  
  /**
   * æœ€å¤§åå°ä»»åŠ¡æ•°
   */
  maxBackgroundTasks: number;
}

/**
 * é¢„è®¾é…ç½®æ¥å£
 */
export interface PresetConfig {
  /**
   * é¢„è®¾åç§°
   */
  name: string;
  
  /**
   * é¢„è®¾æè¿°
   */
  description?: string;
  
  /**
   * é¢„è®¾é…ç½®é¡?   */
  config: Record<string, unknown>;
  
  /**
   * æ˜¯å¦ä¸ºé»˜è®¤é¢„è®?   */
  isDefault: boolean;
  
  /**
   * æ˜¯å¦å¯ç¼–è¾?   */
  editable: boolean;
  
  /**
   * åˆ›å»ºæ—¶é—´
   */
  createdAt: number;
}

/**
 * é…ç½®å¯¼å…¥å¯¼å‡ºé€‰é¡¹æ¥å£
 */
export interface ConfigImportExportOptions {
  /**
   * åŒ…å«çš„é…ç½®ç±»å?   */
  includeTypes: ConfigType[];
  
  /**
   * æ’é™¤çš„é…ç½®é”®
   */
  excludeKeys?: string[];
  
  /**
   * æ˜¯å¦åŠ å¯†
   */
  encrypted: boolean;
  
  /**
   * å¯†ç 
   */
  password?: string;
  
  /**
   * æ˜¯å¦å‹ç¼©
   */
  compressed: boolean;
  
  /**
   * å¯¼å‡ºæ ¼å¼
   */
  format: 'json' | 'xml' | 'binary';
}

/**
 * é…ç½®å˜æ›´äº‹ä»¶æ¥å£
 */
export interface ConfigChangeEvent {
  /**
   * é…ç½®é”?   */
  key: string;
  
  /**
   * æ—§å€?   */
  oldValue: Record<string, string | number | boolean | null>;
  
  /**
   * æ–°å€?   */
  newValue: Record<string, string | number | boolean | null>;
  
  /**
   * å˜æ›´æ—¶é—´
   */
  timestamp: number;
  
  /**
   * å˜æ›´ç±»å‹
   */
  type: ConfigType;
}

/**
 * é…ç½®éªŒè¯ç»“æœæ¥å£
 */
export interface ConfigValidationResult {
  /**
   * æ˜¯å¦æœ‰æ•ˆ
   */
  isValid: boolean;
  
  /**
   * é”™è¯¯ä¿¡æ¯
   */
  errorMessage?: string;
  
  /**
   * æ— æ•ˆçš„é…ç½®é”®
   */
  invalidKeys: string[];
  
  /**
   * è­¦å‘Šä¿¡æ¯
   */
  warnings: string[];
}

