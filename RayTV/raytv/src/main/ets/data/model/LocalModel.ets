// LocalModel - æœ¬åœ°å­˜å‚¨ç›¸å…³æ¨¡å‹å®šä¹‰
// å®šä¹‰æœ¬åœ°æ–‡ä»¶ã€å­˜å‚¨ç­‰ç›¸å…³çš„æ•°æ®æ¨¡å?
/**
 * æœ¬åœ°å­˜å‚¨ç±»å‹æšä¸¾
 */
export enum LocalStorageType {
  /**
   * é»˜è®¤å­˜å‚¨
   */
  DEFAULT = 'default',
  
  /**
   * ä¸´æ—¶å­˜å‚¨
   */
  TEMPORARY = 'temporary',
  
  /**
   * å®‰å…¨å­˜å‚¨
   */
  SECURE = 'secure',
  
  /**
   * æŒä¹…åŒ–å­˜å‚?   */
  PERSISTENT = 'persistent'
}

/**
 * æ–‡ä»¶ç±»å‹æšä¸¾
 */
export enum FileType {
  /**
   * è§†é¢‘æ–‡ä»¶
   */
  VIDEO = 'video',
  
  /**
   * éŸ³é¢‘æ–‡ä»¶
   */
  AUDIO = 'audio',
  
  /**
   * å›¾ç‰‡æ–‡ä»¶
   */
  IMAGE = 'image',
  
  /**
   * æ–‡æœ¬æ–‡ä»¶
   */
  TEXT = 'text',
  
  /**
   * JSONæ–‡ä»¶
   */
  JSON = 'json',
  
  /**
   * å­—å¹•æ–‡ä»¶
   */
  SUBTITLE = 'subtitle',
  
  /**
   * å‹ç¼©æ–‡ä»¶
   */
  ARCHIVE = 'archive',
  
  /**
   * å…¶ä»–æ–‡ä»¶
   */
  OTHER = 'other'
}

/**
 * æ–‡ä»¶æ ¼å¼æšä¸¾
 */
export enum FileFormat {
  // è§†é¢‘æ ¼å¼
  MP4 = 'mp4',
  MKV = 'mkv',
  AVI = 'avi',
  MOV = 'mov',
  FLV = 'flv',
  WMV = 'wmv',
  WEBM = 'webm',
  RMVB = 'rmvb',
  
  // éŸ³é¢‘æ ¼å¼
  MP3 = 'mp3',
  WAV = 'wav',
  FLAC = 'flac',
  AAC = 'aac',
  OGG = 'ogg',
  WMA = 'wma',
  
  // å›¾ç‰‡æ ¼å¼
  JPG = 'jpg',
  JPEG = 'jpeg',
  PNG = 'png',
  GIF = 'gif',
  WEBP = 'webp',
  SVG = 'svg',
  BMP = 'bmp',
  
  // æ–‡æœ¬æ ¼å¼
  TXT = 'txt',
  LOG = 'log',
  MD = 'md',
  HTML = 'html',
  XML = 'xml',
  
  // å­—å¹•æ ¼å¼
  SRT = 'srt',
  VTT = 'vtt',
  ASS = 'ass',
  SSA = 'ssa',
  SUB = 'sub',
  
  // å‹ç¼©æ ¼å¼
  ZIP = 'zip',
  RAR = 'rar',
  7Z = '7z',
  TAR = 'tar',
  GZ = 'gz',
  BZ2 = 'bz2',
  
  // å…¶ä»–æ ¼å¼
  JSON = 'json',
  PDF = 'pdf',
  EXE = 'exe',
  APK = 'apk'
}

/**
 * å­˜å‚¨ä½ç½®æšä¸¾
 */
export enum StorageLocation {
  /**
   * åº”ç”¨å†…éƒ¨å­˜å‚¨
   */
  INTERNAL = 'internal',
  
  /**
   * åº”ç”¨å¤–éƒ¨å­˜å‚¨
   */
  EXTERNAL = 'external',
  
  /**
   * SDå¡å­˜å‚?   */
  SD_CARD = 'sd_card',
  
  /**
   * ä¸´æ—¶å­˜å‚¨
   */
  TEMP = 'temp',
  
  /**
   * ç¼“å­˜ç›®å½•
   */
  CACHE = 'cache'
}

/**
 * æ–‡ä»¶å…ƒæ•°æ®æ¥å? */
export interface FileMetadata {
  /**
   * æ–‡ä»¶è·¯å¾„
   */
  path: string;
  
  /**
   * æ–‡ä»¶å?   */
  name: string;
  
  /**
   * æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
   */
  size: number;
  
  /**
   * ä¿®æ”¹æ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼?   */
  modifiedAt: number;
  
  /**
   * åˆ›å»ºæ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼?   */
  createdAt?: number;
  
  /**
   * æ˜¯å¦ä¸ºç›®å½?   */
  isDirectory: boolean;
  
  /**
   * æ–‡ä»¶ç±»å‹
   */
  fileType?: FileType;
  
  /**
   * æ–‡ä»¶æ ¼å¼
   */
  fileFormat?: FileFormat;
  
  /**
   * æ–‡ä»¶æ‰©å±•å?   */
  extension?: string;
  
  /**
   * MIMEç±»å‹
   */
  mimeType?: string;
  
  /**
   * å­˜å‚¨ä½ç½®
   */
  storageLocation?: StorageLocation;
  
  /**
   * æ–‡ä»¶æƒé™
   */
  permissions?: string;
  
  /**
   * æ ¡éªŒå’Œï¼ˆMD5ï¼?   */
  md5?: string;
}

/**
 * ç›®å½•ä¿¡æ¯æ¥å£
 */
export interface DirectoryInfo {
  /**
   * ç›®å½•è·¯å¾„
   */
  path: string;
  
  /**
   * ç›®å½•åç§°
   */
  name: string;
  
  /**
   * å­æ–‡ä»¶æ•°é‡?   */
  fileCount: number;
  
  /**
   * å­ç›®å½•æ•°é‡?   */
  directoryCount: number;
  
  /**
   * æ€»å¤§å°ï¼ˆå­—èŠ‚ï¼?   */
  totalSize: number;
  
  /**
   * ä¿®æ”¹æ—¶é—´
   */
  modifiedAt: number;
  
  /**
   * å­˜å‚¨ä½ç½®
   */
  storageLocation?: StorageLocation;
}

/**
 * å­˜å‚¨è®¾å¤‡ä¿¡æ¯æ¥å£
 */
export interface StorageDevice {
  /**
   * è®¾å¤‡ID
   */
  id: string;
  
  /**
   * è®¾å¤‡åç§°
   */
  name: string;
  
  /**
   * æŒ‚è½½è·¯å¾„
   */
  mountPath: string;
  
  /**
   * æ€»ç©ºé—´ï¼ˆå­—èŠ‚ï¼?   */
  totalSpace: number;
  
  /**
   * å¯ç”¨ç©ºé—´ï¼ˆå­—èŠ‚ï¼‰
   */
  availableSpace: number;
  
  /**
   * è®¾å¤‡ç±»å‹
   */
  type: StorageDeviceType;
  
  /**
   * æ˜¯å¦å¯ç§»é™?   */
  removable: boolean;
  
  /**
   * æ˜¯å¦åªè¯»
   */
  readOnly: boolean;
  
  /**
   * æ–‡ä»¶ç³»ç»Ÿç±»å‹
   */
  fileSystemType?: string;
}

/**
 * å­˜å‚¨è®¾å¤‡ç±»å‹æšä¸¾
 */
export enum StorageDeviceType {
  /**
   * å†…éƒ¨å­˜å‚¨
   */
  INTERNAL = 'internal',
  
  /**
   * SDå?   */
  SD_CARD = 'sd_card',
  
  /**
   * USBå­˜å‚¨
   */
  USB = 'usb',
  
  /**
   * ç½‘ç»œå­˜å‚¨
   */
  NETWORK = 'network',
  
  /**
   * å…¶ä»–å­˜å‚¨
   */
  OTHER = 'other'
}

/**
 * æ–‡ä»¶æœç´¢å‚æ•°æ¥å£
 */
export interface FileSearchParams {
  /**
   * æœç´¢è·¯å¾„
   */
  searchPath: string;
  
  /**
   * æœç´¢å…³é”®è¯?   */
  keyword?: string;
  
  /**
   * æ–‡ä»¶ç±»å‹è¿‡æ»¤
   */
  fileTypes?: FileType[];
  
  /**
   * æ–‡ä»¶æ ¼å¼è¿‡æ»¤
   */
  fileFormats?: FileFormat[];
  
  /**
   * æ˜¯å¦é€’å½’æœç´¢å­ç›®å½?   */
  recursive?: boolean;
  
  /**
   * æœ€å°æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼?   */
  minSize?: number;
  
  /**
   * æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼?   */
  maxSize?: number;
  
  /**
   * ä¿®æ”¹æ—¶é—´èŒƒå›´ï¼ˆå¼€å§‹ï¼‰
   */
  modifiedAfter?: number;
  
  /**
   * ä¿®æ”¹æ—¶é—´èŒƒå›´ï¼ˆç»“æŸï¼‰
   */
  modifiedBefore?: number;
  
  /**
   * æ’åºå­—æ®µ
   */
  sortBy?: 'name' | 'size' | 'modifiedAt' | 'createdAt';
  
  /**
   * æ’åºæ–¹å¼
   */
  sortOrder?: 'asc' | 'desc';
  
  /**
   * åˆ†é¡µå¤§å°
   */
  limit?: number;
  
  /**
   * åˆ†é¡µåç§»
   */
  offset?: number;
}

/**
 * æ–‡ä»¶æœç´¢ç»“æœæ¥å£
 */
export interface FileSearchResult {
  /**
   * æ–‡ä»¶åˆ—è¡¨
   */
  files: FileMetadata[];
  
  /**
   * ç›®å½•åˆ—è¡¨
   */
  directories: DirectoryInfo[];
  
  /**
   * æ€»ç»“æœæ•°
   */
  totalCount: number;
  
  /**
   * æ˜¯å¦è¿˜æœ‰æ›´å¤šç»“æœ
   */
  hasMore: boolean;
}

/**
 * æ–‡ä»¶æ“ä½œç±»å‹æšä¸¾
 */
export enum FileOperationType {
  /**
   * å¤åˆ¶
   */
  COPY = 'copy',
  
  /**
   * ç§»åŠ¨
   */
  MOVE = 'move',
  
  /**
   * åˆ é™¤
   */
  DELETE = 'delete',
  
  /**
   * é‡å‘½å?   */
  RENAME = 'rename',
  
  /**
   * åˆ›å»º
   */
  CREATE = 'create',
  
  /**
   * è§£å‹
   */
  EXTRACT = 'extract',
  
  /**
   * å‹ç¼©
   */
  COMPRESS = 'compress'
}

/**
 * æ–‡ä»¶æ“ä½œç»“æœæ¥å£
 */
export interface FileOperationResult {
  /**
   * æ˜¯å¦æˆåŠŸ
   */
  success: boolean;
  
  /**
   * æ“ä½œç±»å‹
   */
  operationType: FileOperationType;
  
  /**
   * æºæ–‡ä»¶è·¯å¾?   */
  sourcePath?: string;
  
  /**
   * ç›®æ ‡æ–‡ä»¶è·¯å¾„
   */
  targetPath?: string;
  
  /**
   * é”™è¯¯ä¿¡æ¯
   */
  errorMessage?: string;
  
  /**
   * æ“ä½œæ—¶é—´
   */
  timestamp: number;
}

/**
 * æ–‡ä»¶ç›‘æ§äº‹ä»¶ç±»å‹æšä¸¾
 */
export enum FileMonitorEventType {
  /**
   * æ–‡ä»¶åˆ›å»º
   */
  CREATED = 'created',
  
  /**
   * æ–‡ä»¶ä¿®æ”¹
   */
  MODIFIED = 'modified',
  
  /**
   * æ–‡ä»¶åˆ é™¤
   */
  DELETED = 'deleted',
  
  /**
   * æ–‡ä»¶ç§»åŠ¨
   */
  MOVED = 'moved',
  
  /**
   * ç›®å½•åˆ›å»º
   */
  DIRECTORY_CREATED = 'directory_created',
  
  /**
   * ç›®å½•åˆ é™¤
   */
  DIRECTORY_DELETED = 'directory_deleted',
  
  /**
   * ç›®å½•ç§»åŠ¨
   */
  DIRECTORY_MOVED = 'directory_moved'
}

/**
 * æ–‡ä»¶ç›‘æ§äº‹ä»¶æ¥å£
 */
export interface FileMonitorEvent {
  /**
   * äº‹ä»¶ç±»å‹
   */
  type: FileMonitorEventType;
  
  /**
   * æ–‡ä»¶è·¯å¾„
   */
  path: string;
  
  /**
   * æ—§æ–‡ä»¶è·¯å¾„ï¼ˆç”¨äºç§»åŠ¨äº‹ä»¶ï¼?   */
  oldPath?: string;
  
  /**
   * äº‹ä»¶æ—¶é—´æˆ?   */
  timestamp: number;
}

/**
 * æ–‡ä»¶æ¸…ç†ç­–ç•¥æšä¸¾
 */
export enum FileCleanupStrategy {
  /**
   * æŒ‰æ–‡ä»¶å¤§å°?   */
  BY_SIZE = 'by_size',
  
  /**
   * æŒ‰æ–‡ä»¶æ—¶é—?   */
  BY_TIME = 'by_time',
  
  /**
   * æŒ‰æ–‡ä»¶ç±»å?   */
  BY_TYPE = 'by_type',
  
  /**
   * å…¨éƒ¨æ¸…ç†
   */
  ALL = 'all'
}

/**
 * æ–‡ä»¶æ¸…ç†é…ç½®æ¥å£
 */
export interface FileCleanupConfig {
  /**
   * æ¸…ç†ç­–ç•¥
   */
  strategy: FileCleanupStrategy;
  
  /**
   * ç›®æ ‡ç›®å½•
   */
  targetDir: string;
  
  /**
   * æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼?   */
  maxFileSize?: number;
  
  /**
   * æœ€æ—§æ–‡ä»¶æ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰
   */
  oldestFileTime?: number;
  
  /**
   * è¦æ¸…ç†çš„æ–‡ä»¶ç±»å‹
   */
  fileTypes?: FileType[];
  
  /**
   * ä¿ç•™æœ€æ–°çš„æ–‡ä»¶æ•°é‡
   */
  keepLatestCount?: number;
  
  /**
   * æ˜¯å¦é€’å½’æ¸…ç†å­ç›®å½?   */
  recursive: boolean;
  
  /**
   * æ˜¯å¦é¢„è§ˆï¼ˆä¸å®é™…åˆ é™¤ï¼?   */
  previewOnly: boolean;
}

/**
 * æ–‡ä»¶æ¸…ç†ç»“æœæ¥å£
 */
export interface FileCleanupResult {
  /**
   * å·²æ¸…ç†çš„æ–‡ä»¶æ•°é‡
   */
  filesCleaned: number;
  
  /**
   * å·²æ¸…ç†çš„ç›®å½•æ•°é‡
   */
  directoriesCleaned: number;
  
  /**
   * é‡Šæ”¾çš„ç©ºé—´ï¼ˆå­—èŠ‚ï¼?   */
  spaceFreed: number;
  
  /**
   * æ¸…ç†å¤±è´¥çš„æ–‡ä»?   */
  failedFiles: string[];
  
  /**
   * æ¸…ç†æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
   */
  cleanupTime: number;
  
  /**
   * æ˜¯å¦é¢„è§ˆæ¨¡å¼
   */
  isPreview: boolean;
}

/**
 * æœ¬åœ°å­˜å‚¨é…ç½®æ¥å£
 */
export interface LocalStorageConfig {
  /**
   * ç¼“å­˜ç›®å½•
   */
  cacheDir: string;
  
  /**
   * ä¸‹è½½ç›®å½•
   */
  downloadDir: string;
  
  /**
   * å­—å¹•ç›®å½•
   */
  subtitleDir: string;
  
  /**
   * ç”¨æˆ·æ•°æ®ç›®å½•
   */
  userDataDir: string;
  
  /**
   * ä¸´æ—¶ç›®å½•
   */
  tempDir: string;
  
  /**
   * æœ€å¤§ç¼“å­˜å¤§å°ï¼ˆå­—èŠ‚ï¼?   */
  maxCacheSize: number;
  
  /**
   * è‡ªåŠ¨æ¸…ç†ç¼“å­˜çš„æ—¶é—´é—´éš”ï¼ˆæ¯«ç§’ï¼?   */
  autoCleanupInterval: number;
  
  /**
   * æ˜¯å¦å¯ç”¨æ–‡ä»¶ç›‘æ§
   */
  enableFileMonitoring: boolean;
}

/**
 * æœ¬åœ°æ–‡ä»¶å›¾æ ‡æ¥å£
 */
export interface FileIcon {
  /**
   * æ–‡ä»¶ç±»å‹
   */
  fileType: FileType;
  /**
   * æ–‡ä»¶æ ¼å¼
   */
  fileFormat?: FileFormat;
  /**
   * å›¾æ ‡èµ„æºID
   */
  iconResourceId: string;
  /**
   * è‡ªå®šä¹‰å›¾æ ‡è·¯å¾?   */
  customIconPath?: string;
}

/**
 * MIMEç±»å‹æ˜ å°„æ¥å£
 */
export interface MimeTypeMap {
  /**
   * æ–‡ä»¶æ ¼å¼
   */
  format: FileFormat;
  /**
   * MIMEç±»å‹
   */
  mimeType: string;
  /**
   * æè¿°
   */
  description: string;
}
